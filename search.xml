<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>就随便说点啥</title>
      <link href="/posts/41084/"/>
      <url>/posts/41084/</url>
      
        <content type="html"><![CDATA[<p>今日份指点江山：</p><blockquote><p>最近感觉，时间是一个轮回怪圈，现在的我就像十年前的我，心情类似，身体也类似，所以指点江山不能落下。</p></blockquote><h2 id="大数据除了给我们便利，还给了什么-wo"><a href="#大数据除了给我们便利，还给了什么-wo" class="headerlink" title="大数据除了给我们便利，还给了什么 wo"></a>大数据除了给我们便利，还给了什么 <del>wo</del></h2><p>​        根据一些众所周知的事情，大数据是一些具备特殊特征的数据集合，同时，多年以来，一些公司辛勤耕耘于其中，我们的生活确实变得更<code>美好</code>了，不是自己做的饭也可以很快到我的饭桌上，不是自己开的车也可以想去哪就去哪…… 这一切的一切，我在二十年前是从未憧憬过得，离那时的我太远。生活确实变好了，虽然我挺擅忘，仍旧记得，这些年，我可以随便吃点啥了（贪嘴本性）。可生活并未变得那般好。<br>​<br>​        从何说起呢？就从小视频说起吧。我上学时，那时是BAT的天下，如果我想获取信息，最简单的方式是百度一下，或者换DNS，Google一下，那时的网络环境相对简单，我可以很快捷的找到我想要的。那时的互联网，还沉浸在之前的互联网精神（共享）之中，虽也有吵架拌嘴，但最后大多不再发酵，可能那时我最想听得只是一句LZ好人，哪怕彻夜未眠。再往前的互联网，我没太接触过，也曾看过别人的传记，那时以文字论坛为主，能够沟通已是不可思议之事。说远了。现在，如果让大家去知晓某些讯息，一般很少会有人去百度了，包括谷歌（两者SEO并无太大差别，并无好坏之分），转而问讯视频APP，个人觉得也挺方便，信息由分散转为集中， 方式由集中转分散。经过多次问讯，视频APP一般就会描绘出你的样子，比如喜欢看美女、喜欢八卦、什么都可以等等（没有影射@当事人让去掉)。当然，如果没有描绘出来，那么这个公司多半已经倒闭了。这时候，视频（不局限于视频）APP会推送给你一些你想看的， 这样的生活简直太美好了，看到的都是喜欢的。</p><p>   人皆爱美，何错之有？是我，我也想看喜欢的。可是，这并不是大数据，哦，不，是单纯的大数据。大数据其实是一种商业模式。不可否认的是，只有流通的数据才会产生盈利。在数据流通过程中，我们跟其他具备相同特征的人群汇聚在了一起，我们相互之间产生了商业价值，虽然我也不懂哪里来的。</p><pre><code>    在计算机看来，喜欢是一个单纯的词语。某个特定的人对于某个事物是有喜恶的，这种喜恶被计算机掌握以后，都会被记录下来，比如你越讨厌看到某些东西，在这类APP上，你越容易看到，因为这被计算机认为，你是喜欢它的。所以，冲突产生了。</code></pre><p>​        前边提到过，信息确实是由分散转为集中的，那么人群也是，分属四海五湖的我们，可以因为某个视频、某个帖子汇聚在一起，或讨论、或争论，中间只需一个引子，便是待触发的火药包，当然这也无需在意，毕竟，屏幕对面是什么都有可能。<br>​<br>​       令人烦恼的是，大数据是一种商业模式。基于某些原因，在同一个视频下边，可能我们会看到不同的评论，我指的是每个人看到的评论不一样，这可比之前传的大数据杀熟可怕多了。更有甚者，针对特定人群推送特有的视频，针对老年人，推送婆媳关系，某某受欺负的视频，利用老年人的同情心，针对刚生孩子的宝妈，推送丈夫外边招piao、国产奶粉暴雷的视频，搞坏男女关系，针对宝爸，推送擦边美女视频，诱惑刷礼物等等。我对这些事相对比较讨厌，所以给我推送的是猫狗视频，前段时间一小女孩被恶狗咬坏肾脏，后续事件愈演愈烈，推送给我的视频也是群魔乱舞。总而言之，互联网世界，戏精挺多。<br>​<br>​       事件的倾轧并非是发文的原因。我越来越发现了一件事情，我独立思考的能力在下降，而我也并非特例。我们的三观形成并非一日之功，其实说到底，是生活成就了我们，不是我们造就了生活，我们对万事万物的观感就是我们立身的基础。我曾经是学过数学的，我有一点经验，公理不证，其余皆可求证，要去求证，当辩证。辩证并非是思考的唯一方法，只是我个人的一种思路。当我去引证，去辩，去求，那我就是在思考了。现在，我只是机械的在获取没有营养的data。管他是什么数据帧、报文，还是别的什么，我不去关心，只是它的表征是个图片，是个视频，ok了，一笑了之。当我们接收信息的渠道越发的狭窄，我们的三观只会塑造成大数据想的那样。<br>​<br>​        可是我们距离人工智能又太远，所以我们多半还是在大数据的制裁下活的很好。希望人工智能到来时，万物为它加冕，它亦引导我们走向更美好的明天。</p><hr><p>本想写个朋友圈，写着写着，乱七八糟了，就当胡言，亦是妄语。技术本无罪，技术无国界，技术应得商业价值。</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>hahhaha</title>
      <link href="/posts/59427/"/>
      <url>/posts/59427/</url>
      
        <content type="html"><![CDATA[<h3 id="鲲鹏"><a href="#鲲鹏" class="headerlink" title="鲲鹏"></a>鲲鹏</h3><p><code>kunpeng</code></p><p>devops</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>一些激活秘钥</title>
      <link href="/posts/2072/"/>
      <url>/posts/2072/</url>
      
        <content type="html"><![CDATA[<h3 id="Windows-Server（LTSC-版本）"><a href="#Windows-Server（LTSC-版本）" class="headerlink" title="Windows Server（LTSC 版本）"></a>Windows Server（LTSC 版本）</h3><h4 id="Windows-Server-2022"><a href="#Windows-Server-2022" class="headerlink" title="Windows Server 2022"></a>Windows Server 2022</h4><table><thead><tr><th>操作系统版本</th><th>KMS 客户端安装密钥</th></tr></thead><tbody><tr><td>Windows Server 2022 Datacenter</td><td>WX4NM-KYWYW-QJJR4-XV3QB-6VM33</td></tr><tr><td>Windows Server 2022 Datacenter Azure Edition</td><td>NTBV8-9K7Q8-V27C6-M2BTV-KHMXV</td></tr><tr><td>Windows Server 2022 Standard</td><td>VDYBN-27WPP-V4HQT-9VMD4-VMK7H</td></tr></tbody></table><h4 id="Windows-Server-2019"><a href="#Windows-Server-2019" class="headerlink" title="Windows Server 2019"></a>Windows Server 2019</h4><table><thead><tr><th>操作系统版本</th><th>KMS 客户端安装密钥</th></tr></thead><tbody><tr><td>Windows Server 2019 Datacenter</td><td>WMDGN-G9PQG-XVVXX-R3X43-63DFG</td></tr><tr><td>Windows Server 2019 Standard</td><td>N69G4-B89J2-4G8F4-WWYCC-J464C</td></tr><tr><td>Windows Server 2019 Essentials</td><td>WVDHN-86M7X-466P6-VHXV7-YY726</td></tr></tbody></table><h4 id="Windows-Server-2016"><a href="#Windows-Server-2016" class="headerlink" title="Windows Server 2016"></a>Windows Server 2016</h4><table><thead><tr><th>操作系统版本</th><th>KMS 客户端安装密钥</th></tr></thead><tbody><tr><td>Windows Server 2016 Datacenter</td><td>CB7KF-BWN84-R7R2Y-793K2-8XDDG</td></tr><tr><td>Windows Server 2016 Standard</td><td>WC2BQ-8NRM3-FDDYY-2BFGV-KHKQY</td></tr><tr><td>Windows Server 2016 Essentials</td><td>JCKRF-N37P4-C2D82-9YXRT-4M63B</td></tr></tbody></table><h3 id="Windows-Server-半年频道版本"><a href="#Windows-Server-半年频道版本" class="headerlink" title="Windows Server (半年频道版本)"></a>Windows Server (半年频道版本)</h3><h4 id="Windows-Server-版本-20H2、2004、1909、1903-和-1809"><a href="#Windows-Server-版本-20H2、2004、1909、1903-和-1809" class="headerlink" title="Windows Server 版本 20H2、2004、1909、1903 和 1809"></a>Windows Server 版本 20H2、2004、1909、1903 和 1809</h4><table><thead><tr><th>操作系统版本</th><th>KMS 客户端安装密钥</th></tr></thead><tbody><tr><td>Windows Server Datacenter</td><td>6NMRW-2C8FM-D24W7-TQWMY-CWH2D</td></tr><tr><td>Windows Server Standard</td><td>N2KJX-J94YW-TQVFB-DG9YT-724CC</td></tr></tbody></table><h4 id="Windows-11-和-Windows-10-半年频道版本"><a href="#Windows-11-和-Windows-10-半年频道版本" class="headerlink" title="Windows 11 和 Windows 10 (半年频道版本)"></a>Windows 11 和 Windows 10 (半年频道版本)</h4><table><thead><tr><th>操作系统版本</th><th>KMS 客户端安装密钥</th></tr></thead><tbody><tr><td>Windows 10&#x2F;11 专业版</td><td>W269N-WFGWX-YVC9B-4J6C9-T83GX</td></tr><tr><td>Windows 10&#x2F;11 专业版 N</td><td>MH37W-N47XK-V7XM9-C7227-GCQG9</td></tr><tr><td>Windows 10&#x2F;11 专业工作站</td><td>NRG8B-VKK3Q-CXVCJ-9G2XF-6Q84J</td></tr><tr><td>Windows 10&#x2F;11 专业工作站 N</td><td>9FNHH-K3HBT-3W4TD-6383H-6XYWF</td></tr><tr><td>Windows 10&#x2F;11 专业教育版</td><td>6TP4R-GNPTD-KYYHQ-7B7DP-J447Y</td></tr><tr><td>Windows 10&#x2F;11 专业教育版 N</td><td>YVWGF-BXNMC-HTQYQ-CPQ99-66QFC</td></tr><tr><td>Windows 10&#x2F;11 教育版</td><td>NW6C2-QMPVW-D7KKK-3GKT6-VCFB2</td></tr><tr><td>Windows 10&#x2F;11 教育版 N</td><td>2WH4N-8QGBV-H22JP-CT43Q-MDWWJ</td></tr><tr><td>Windows 10&#x2F;11 企业版</td><td>NPPR9-FWDCX-D2C8J-H872K-2YT43</td></tr><tr><td>Windows 10&#x2F;11 企业版 N</td><td>DPH2V-TTNVB-4X9Q3-TJR4H-KHJW4</td></tr><tr><td>Windows 10&#x2F;11 企业版 G</td><td>YYVX9-NTFWV-6MDM3-9PT4T-4M68B</td></tr><tr><td>Windows 10&#x2F;11 企业版 G N</td><td>44RPN-FTY23-9VTTB-MP9BX-T84FV</td></tr></tbody></table><h3 id="Windows-10-LTSC-LTSB-版本"><a href="#Windows-10-LTSC-LTSB-版本" class="headerlink" title="Windows 10 (LTSC&#x2F;LTSB 版本)"></a>Windows 10 (LTSC&#x2F;LTSB 版本)</h3><h4 id="Windows-10-LTSC-2019"><a href="#Windows-10-LTSC-2019" class="headerlink" title="Windows 10 LTSC 2019"></a>Windows 10 LTSC 2019</h4><table><thead><tr><th>操作系统版本</th><th>KMS 客户端安装密钥</th></tr></thead><tbody><tr><td>Windows 10 企业版 LTSC 2019</td><td>M7XTQ-FN8P6-TTKYV-9D4CC-J462D</td></tr><tr><td>Windows 10 企业版 N LTSC 2019</td><td>92NFX-8DJQP-P6BBQ-THF9C-7CG2H</td></tr></tbody></table><h4 id="Windows-10-LTSB-2016"><a href="#Windows-10-LTSB-2016" class="headerlink" title="Windows 10 LTSB 2016"></a>Windows 10 LTSB 2016</h4><table><thead><tr><th>操作系统版本</th><th>KMS 客户端安装密钥</th></tr></thead><tbody><tr><td>Windows 10 企业版 LTSB 2016</td><td>DCPHK-NFMTC-H88MJ-PFHPY-QJ4BJ</td></tr><tr><td>Windows 10 企业版 N LTSB 2016</td><td>QFFDN-GRT3P-VKWWX-X7T3R-8B639</td></tr></tbody></table><h4 id="Windows-10-LTSB-2015"><a href="#Windows-10-LTSB-2015" class="headerlink" title="Windows 10 LTSB 2015"></a>Windows 10 LTSB 2015</h4><table><thead><tr><th>操作系统版本</th><th>KMS 客户端安装密钥</th></tr></thead><tbody><tr><td>Windows 10 企业版 2015 LTSB</td><td>WNMTR-4C88C-JK8YV-HQ7T2-76DF9</td></tr><tr><td>Windows 10 企业版 2015 LTSB N</td><td>2F77B-TNFGY-69QQF-B8YKP-D69TJ</td></tr><tr><td>早期版本的 Windows Server</td><td></td></tr></tbody></table><h4 id="Windows-Server-版本-1803"><a href="#Windows-Server-版本-1803" class="headerlink" title="Windows Server 版本 1803"></a>Windows Server 版本 1803</h4><table><thead><tr><th>操作系统版本</th><th>KMS 客户端安装密钥</th></tr></thead><tbody><tr><td>Windows Server Datacenter</td><td>2HXDN-KRXHB-GPYC7-YCKFJ-7FVDG</td></tr><tr><td>Windows Server Standard</td><td>PTXN8-JFHJM-4WC78-MPCBR-9W4KR</td></tr></tbody></table><h4 id="Windows-Server-版本-1709"><a href="#Windows-Server-版本-1709" class="headerlink" title="Windows Server 版本 1709"></a>Windows Server 版本 1709</h4><table><thead><tr><th>操作系统版本</th><th>KMS 客户端安装密钥</th></tr></thead><tbody><tr><td>Windows Server Datacenter</td><td>6Y6KB-N82V8-D8CQV-23MJW-BWTG6</td></tr><tr><td>Windows Server Standard</td><td>DPCNP-XQFKJ-BJF7R-FRC8D-GF6G4</td></tr></tbody></table><h4 id="Windows-Server-2012-R2"><a href="#Windows-Server-2012-R2" class="headerlink" title="Windows Server 2012 R2"></a>Windows Server 2012 R2</h4><table><thead><tr><th>操作系统版本</th><th>KMS 客户端安装密钥</th></tr></thead><tbody><tr><td>Windows Server 2012 R2 Server Standard</td><td>D2N9P-3P6X9-2R39C-7RTCD-MDVJX</td></tr><tr><td>WindowsServer 2012 R2 Datacenter</td><td>W3GGN-FT8W3-Y4M27-J84CP-Q3VJ9</td></tr><tr><td>WindowsServer 2012 R2 Essentials</td><td>KNC87-3J2TX-XB4WP-VCPJV-M4FWM</td></tr></tbody></table><h4 id="Windows-Server-2012"><a href="#Windows-Server-2012" class="headerlink" title="Windows Server 2012"></a>Windows Server 2012</h4><table><thead><tr><th>操作系统版本</th><th>KMS 客户端安装密钥</th></tr></thead><tbody><tr><td>Windows Server 2012</td><td>BN3D2-R7TKB-3YPBD-8DRP2-27GG4</td></tr><tr><td>Windows Server 2012 N</td><td>8N2M2-HWPGY-7PGT9-HGDD8-GVGGY</td></tr><tr><td>Windows Server 2012 单语言版</td><td>2WN2H-YGCQR-KFX6K-CD6TF-84YXQ</td></tr><tr><td>Windows Server 2012 特定国家&#x2F;地区版</td><td>4K36P-JN4VD-GDC6V-KDT89-DYFKP</td></tr><tr><td>Windows Server 2012 Server Standard</td><td>XC9B7-NBPP2-83J2H-RHMBY-92BT4</td></tr><tr><td>Windows Server 2012 MultiPoint Standard</td><td>HM7DN-YVMH3-46JC3-XYTG7-CYQJJ</td></tr><tr><td>Windows Server 2012 MultiPoint Premium</td><td>XNH6W-2V9GX-RGJ4K-Y8X6F-QGJ2G</td></tr><tr><td>Windows Server 2012 Datacenter</td><td>48HP8-DN98B-MYWDG-T2DCC-8W83P</td></tr></tbody></table><h4 id="Windows-Server-2008-R2"><a href="#Windows-Server-2008-R2" class="headerlink" title="Windows Server 2008 R2"></a>Windows Server 2008 R2</h4><table><thead><tr><th>操作系统版本</th><th>KMS 客户端安装密钥</th></tr></thead><tbody><tr><td>Windows Server 2008 R2 Web 版</td><td>6TPJF-RBVHG-WBW2R-86QPH-6RTM4</td></tr><tr><td>Windows Server 2008 R2 HPC 版</td><td>TT8MH-CG224-D3D7Q-498W2-9QCTX</td></tr><tr><td>WindowsServer 2008 R2 Standard</td><td>YC6KT-GKW9T-YTKYR-T4X34-R7VHC</td></tr><tr><td>WindowsServer 2008 R2 企业版</td><td>489J6-VHDMP-X63PK-3K798-CPX3Y</td></tr><tr><td>WindowsServer 2008 R2 Datacenter</td><td>74YFP-3QFB3-KQT8W-PMXWJ-7M648</td></tr><tr><td>面向基于 Itanium 系统的 Windows Server 2008 R2</td><td>GT63C-RJFQ3-4GMB6-BRFB9-CB83V</td></tr></tbody></table><h4 id="Windows-Server-2008"><a href="#Windows-Server-2008" class="headerlink" title="Windows Server 2008"></a>Windows Server 2008</h4><table><thead><tr><th>操作系统版本</th><th>KMS 客户端安装密钥</th></tr></thead><tbody><tr><td>Windows Web Server 2008</td><td>WYR28-R7TFJ-3X2YQ-YCY4H-M249D</td></tr><tr><td>Windows Server 2008 Standard</td><td>TM24T-X9RMF-VWXK6-X8JC9-BFGM2</td></tr><tr><td>不带 Hyper-V 的 Windows Server 2008 Standard</td><td>W7VD6-7JFBR-RX26B-YKQ3Y-6FFFJ</td></tr><tr><td>Windows Server 2008 企业版</td><td>YQGMW-MPWTJ-34KDK-48M3W-X4Q6V</td></tr><tr><td>不带 Hyper-V 的 Windows Server 2008 企业版</td><td>39BXF-X8Q23-P2WWT-38T2F-G3FPG</td></tr><tr><td>Windows Server 2008 HPC</td><td>RCTX3-KWVHP-BR6TB-RB6DM-6X7HP</td></tr><tr><td>Windows Server 2008 Datacenter</td><td>7M67G-PC374-GR742-YH8V4-TCBY3</td></tr><tr><td>不带 Hyper-V 的 Windows Server 2008 Datacenter</td><td>22XQ2-VRXRG-P8D42-K34TD-G3QQC</td></tr><tr><td>面向基于 Itanium 系统的 Windows Server 2008</td><td>4DWFP-JF3DJ-B7DTH-78FJB-PDRHK</td></tr></tbody></table><h3 id="早期版本的-Windows"><a href="#早期版本的-Windows" class="headerlink" title="早期版本的 Windows"></a>早期版本的 Windows</h3><h4 id="Windows-8-1"><a href="#Windows-8-1" class="headerlink" title="Windows 8.1"></a>Windows 8.1</h4><table><thead><tr><th>操作系统版本</th><th>KMS 客户端安装密钥</th></tr></thead><tbody><tr><td>Windows 8.1 专业版</td><td>GCRJD-8NW9H-F2CDX-CCM8D-9D6T9</td></tr><tr><td>Windows 8.1 专业版 N</td><td>HMCNV-VVBFX-7HMBH-CTY9B-B4FXY</td></tr><tr><td>Windows 8.1 企业版</td><td>MHF9N-XY6XB-WVXMC-BTDCT-MKKG7</td></tr><tr><td>Windows 8.1 企业版 N</td><td>TT4HM-HN7YT-62K67-RGRQJ-JFFXW</td></tr></tbody></table><h4 id="Windows-8"><a href="#Windows-8" class="headerlink" title="Windows 8"></a>Windows 8</h4><table><thead><tr><th>操作系统版本</th><th>KMS 客户端安装密钥</th></tr></thead><tbody><tr><td>Windows 8 专业版</td><td>NG4HW-VH26C-733KW-K6F98-J8CK4</td></tr><tr><td>Windows 8 专业版 N</td><td>XCVCF-2NXM9-723PB-MHCB7-2RYQQ</td></tr><tr><td>Windows 8 企业版</td><td>32JNW-9KQ84-P47T8-D8GGY-CWCK7</td></tr><tr><td>Windows 8 企业版 N</td><td>JMNMF-RHW7P-DMY6X-RF3DR-X2BQT</td></tr></tbody></table><h4 id="Windows-7"><a href="#Windows-7" class="headerlink" title="Windows 7"></a>Windows 7</h4><table><thead><tr><th>操作系统版本</th><th>KMS 客户端安装密钥</th></tr></thead><tbody><tr><td>Windows 7 专业版</td><td>FJ82H-XT6CR-J8D7P-XQJJ2-GPDD4</td></tr><tr><td>Windows 7 专业版 N</td><td></td></tr><tr><td>Windows 7 专业版 E</td><td>W82YF-2Q76Y-63HXB-FGJG9-GF7QX</td></tr><tr><td>Windows7 企业版</td><td>33PXH-7Y6KF-2VJC9-XBBR8-HVTHH</td></tr><tr><td>Windows 7 企业版 N</td><td>YDRBP-3D83W-TY26F-D46B2-XCKRJ</td></tr><tr><td>Windows 7 企业版 E</td><td>C29WB-22CC8-VJ326-GHFJW-H9DH4</td></tr></tbody></table><p><strong>Office 密钥列表</strong><br><strong>参考官网</strong></p><p><a href="https://docs.microsoft.com/en-us/DeployOffice/vlactivation/gvlks">https://docs.microsoft.com/en-us/DeployOffice/vlactivation/gvlks</a></p><h3 id="GVLKs-for-Office-LTSC-2021"><a href="#GVLKs-for-Office-LTSC-2021" class="headerlink" title="GVLKs for Office LTSC 2021"></a>GVLKs for Office LTSC 2021</h3><h4 id="ProductGVLK"><a href="#ProductGVLK" class="headerlink" title="ProductGVLK"></a>ProductGVLK</h4><table><thead><tr><th>Office LTSC Professional Plus 2021</th><th>FXYTK-NJJ8C-GB6DW-3DYQT-6F7TH</th></tr></thead><tbody><tr><td>Office LTSC Standard 2021</td><td>KDX7X-BNVR8-TXXGX-4Q7Y8-78VT3</td></tr><tr><td>Project Professional 2021</td><td>FTNWT-C6WBT-8HMGF-K9PRX-QV9H8</td></tr><tr><td>Project Standard 2021</td><td>J2JDC-NJCYY-9RGQ4-YXWMH-T3D4T</td></tr><tr><td>Visio LTSC Professional 2021</td><td>KNH8D-FGHT4-T8RK3-CTDYJ-K2HT4</td></tr><tr><td>Visio LTSC Standard 2021</td><td>MJVNY-BYWPY-CWV6J-2RKRT-4M8QG</td></tr><tr><td>Access LTSC 2021</td><td>WM8YG-YNGDD-4JHDC-PG3F4-FC4T4</td></tr><tr><td>Excel LTSC 2021</td><td>NWG3X-87C9K-TC7YY-BC2G7-G6RVC</td></tr><tr><td>Outlook LTSC 2021</td><td>C9FM6-3N72F-HFJXB-TM3V9-T86R9</td></tr><tr><td>PowerPoint LTSC 2021</td><td>TY7XF-NFRBR-KJ44C-G83KF-GX27K</td></tr><tr><td>Publisher LTSC 2021</td><td>2MW9D-N4BXM-9VBPG-Q7W6M-KFBGQ</td></tr><tr><td>Skype for Business LTSC 2021</td><td>HWCXN-K3WBT-WJBKY-R8BD9-XK29P</td></tr><tr><td>Word LTSC 2021</td><td>TN8H9-M34D3-Y64V9-TR72V-X79KV</td></tr></tbody></table><h3 id="GVLKs-for-Office-2019"><a href="#GVLKs-for-Office-2019" class="headerlink" title="GVLKs for Office 2019"></a>GVLKs for Office 2019</h3><h4 id="ProductGVLK-1"><a href="#ProductGVLK-1" class="headerlink" title="ProductGVLK"></a>ProductGVLK</h4><table><thead><tr><th>Office Professional Plus 2019</th><th>NMMKJ-6RK4F-KMJVX-8D9MJ-6MWKP</th></tr></thead><tbody><tr><td>Office Standard 2019</td><td>6NWWJ-YQWMR-QKGCB-6TMB3-9D9HK</td></tr><tr><td>Project Professional 2019</td><td>B4NPR-3FKK7-T2MBV-FRQ4W-PKD2B</td></tr><tr><td>Project Standard 2019</td><td>C4F7P-NCP8C-6CQPT-MQHV9-JXD2M</td></tr><tr><td>Visio Professional 2019</td><td>9BGNQ-K37YR-RQHF2-38RQ3-7VCBB</td></tr><tr><td>Visio Standard 2019</td><td>7TQNQ-K3YQQ-3PFH7-CCPPM-X4VQ2</td></tr><tr><td>Access 2019</td><td>9N9PT-27V4Y-VJ2PD-YXFMF-YTFQT</td></tr><tr><td>Excel 2019</td><td>TMJWT-YYNMB-3BKTF-644FC-RVXBD</td></tr><tr><td>Outlook 2019</td><td>7HD7K-N4PVK-BHBCQ-YWQRW-XW4VK</td></tr><tr><td>PowerPoint 2019</td><td>RRNCX-C64HY-W2MM7-MCH9G-TJHMQ</td></tr><tr><td>Publisher 2019</td><td>G2KWX-3NW6P-PY93R-JXK2T-C9Y9V</td></tr><tr><td>Skype for Business 2019</td><td>NCJ33-JHBBY-HTK98-MYCV8-HMKHJ</td></tr><tr><td>Word 2019</td><td>PBX3G-NWMT6-Q7XBW-PYJGG-WXD33</td></tr></tbody></table><h3 id="GVLKs-for-Office-2016"><a href="#GVLKs-for-Office-2016" class="headerlink" title="GVLKs for Office 2016"></a>GVLKs for Office 2016</h3><h4 id="ProductGVLK-2"><a href="#ProductGVLK-2" class="headerlink" title="ProductGVLK"></a>ProductGVLK</h4><table><thead><tr><th>Office Professional Plus 2016</th><th>XQNVK-8JYDB-WJ9W3-YJ8YR-WFG99</th></tr></thead><tbody><tr><td>Office Standard 2016</td><td>JNRGM-WHDWX-FJJG3-K47QV-DRTFM</td></tr><tr><td>Project Professional 2016</td><td>YG9NW-3K39V-2T3HJ-93F3Q-G83KT</td></tr><tr><td>Project Standard 2016</td><td>GNFHQ-F6YQM-KQDGJ-327XX-KQBVC</td></tr><tr><td>Visio Professional 2016</td><td>PD3PC-RHNGV-FXJ29-8JK7D-RJRJK</td></tr><tr><td>Visio Standard 2016</td><td>7WHWN-4T7MP-G96JF-G33KR-W8GF4</td></tr><tr><td>Access 2016</td><td>GNH9Y-D2J4T-FJHGG-QRVH7-QPFDW</td></tr><tr><td>Excel 2016</td><td>9C2PK-NWTVB-JMPW8-BFT28-7FTBF</td></tr><tr><td>OneNote 2016</td><td>DR92N-9HTF2-97XKM-XW2WJ-XW3J6</td></tr><tr><td>Outlook 2016</td><td>R69KK-NTPKF-7M3Q4-QYBHW-6MT9B</td></tr><tr><td>PowerPoint 2016</td><td>J7MQP-HNJ4Y-WJ7YM-PFYGF-BY6C6</td></tr><tr><td>Publisher 2016</td><td>F47MM-N3XJP-TQXJ9-BP99D-8K837</td></tr><tr><td>Skype for Business 2016</td><td>869NQ-FJ69K-466HW-QYCP2-DDBV6</td></tr><tr><td>Word 2016</td><td>WXY84-JN2Q9-RBCCQ-3Q3J3-3PFJ6</td></tr></tbody></table>]]></content>
      
      
      
        <tags>
            
            <tag> windows </tag>
            
            <tag> kms </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linux那些事儿-文本三剑客</title>
      <link href="/posts/7875/"/>
      <url>/posts/7875/</url>
      
        <content type="html"><![CDATA[<h2 id="linux那些事儿-文本三剑客"><a href="#linux那些事儿-文本三剑客" class="headerlink" title="linux那些事儿-文本三剑客"></a>linux那些事儿-文本三剑客</h2><blockquote><p>对于接触过Linux操作系统的人来说，应该都听过awk、grep、sed，它们是Linux下文本处理的三大利器，合称文本三剑客，也是必须掌握的linux命令之一。三者的功能都是处理文本，但侧重点各不相同，其中属awk功能最强大，但也最复杂。grep更适合单纯的查找或匹配文本，sed更适合编辑匹配到的文本，awk更适合格式化文本，对文本进行较复杂格式处理。文本三剑客均支持正则表达式，因此，在学习文本三剑客之前我们需要先来了解一下正则表达式。</p></blockquote><h3 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h3><blockquote><p>又称规则表达式，是计算机科学的一个概念。正则表达式通常被用来检索、替换那些符合某个模式(规则)的文本。<br>许多程序设计语言都支持利用正则表达式进行字符串操作。正则表达式这个概念最初是由Unix中的工具软件（例如sed和grep）普及开来的。</p></blockquote><p>正则表达式是对字符串（包括普通字符（例如，a 到 z 之间的字母）和特殊字符（称为“元字符”））操作的一种逻辑公式，就是用事先定义好的一些特定字符及这些特定字符的组合，组成一个“规则字符串”，这个“规则字符串”用来表达对字符串的一种过滤逻辑。正则表达式是一种文本模式，该模式描述在搜索文本时要匹配的一个或多个字符串。</p><table><thead><tr><th>元字符</th><th>描述</th></tr></thead><tbody><tr><td>\</td><td>转义符</td></tr><tr><td>^</td><td>^word:搜索以word开头的内容</td></tr><tr><td>$</td><td>word$:搜索以word结尾的内容</td></tr><tr><td>^$</td><td>空行</td></tr><tr><td>*</td><td>匹配前面的字符任意次，<strong>包括0次</strong>，贪婪模式：尽可能长的匹配</td></tr><tr><td>.*</td><td>任意长度的任意字符，<strong>不包括0次</strong></td></tr><tr><td>.点</td><td>匹配除“\n”和”\r”之外的任何单个字符</td></tr><tr><td>|</td><td>或运算，可匹配多个条件</td></tr></tbody></table><h3 id="文本三剑客之grep"><a href="#文本三剑客之grep" class="headerlink" title="文本三剑客之grep"></a>文本三剑客之grep</h3><blockquote><p>grep命令是一种强大的文本搜索工具，它能使用正则表达式搜索文本，并把匹配的行打印出来。</p><p>grep家族包括grep、egrep和fgrep。其中egrep是grep的扩展，支持更多的re元字符，fgrep则是fixed grep或fast grep。</p></blockquote><ul><li><p>用法</p><p>grep [选项] pattern file</p><p><strong>其中：pattern代表被查找的字符，可以插入对应的元字符</strong></p></li><li><p>选项</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-c：只输出匹配行的计数。 </span><br><span class="line">-i：不区分大小写。</span><br><span class="line">-h：查询多文件时不显示文件名。</span><br><span class="line">-l：查询多文件时只输出包含匹配字符的文件名。</span><br><span class="line">-n：显示匹配行及行号。</span><br><span class="line">-s：不显示不存在或无匹配文本的错误信息。</span><br><span class="line">-v：显示不包含匹配文本的所有行。</span><br><span class="line">--color=auto ：可以将找到的关键词部分加上颜色</span><br><span class="line">-A：显示匹配的内容及其后n行</span><br><span class="line">-B：显示匹配的内容及其前n行</span><br></pre></td></tr></table></figure></li><li><p>例如</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@demo ~]<span class="comment"># grep &quot;cdrom&quot; file </span></span><br><span class="line">cdrom</span><br><span class="line">[root@demo ~]<span class="comment"># grep -i &quot;cdrom&quot; file </span></span><br><span class="line"><span class="comment"># Use CDROM installation media</span></span><br><span class="line">cdrom</span><br><span class="line">[root@demo ~]<span class="comment"># grep -i -B2 -c &quot;cdrom&quot; file </span></span><br><span class="line">2</span><br><span class="line">[root@demo ~]<span class="comment"># grep -i --color=none &quot;cdrom&quot; file </span></span><br><span class="line"><span class="comment"># Use CDROM installation media</span></span><br><span class="line">cdrom</span><br><span class="line">[root@demo ~]<span class="comment"># grep -i -A1 &quot;cdrom&quot; file </span></span><br><span class="line"><span class="comment"># Use CDROM installation media</span></span><br><span class="line">cdrom</span><br><span class="line"><span class="comment"># Keyboard layouts</span></span><br><span class="line">[root@demo ~]<span class="comment"># grep -i -B2 &quot;cdrom&quot; file </span></span><br><span class="line"><span class="comment"># Use graphical install</span></span><br><span class="line">graphical</span><br><span class="line"><span class="comment"># Use CDROM installation media</span></span><br><span class="line">cdrom</span><br><span class="line">[root@demo ~]<span class="comment"># grep -i -B2 -n &quot;cdrom&quot; file </span></span><br><span class="line">9-<span class="comment"># Use graphical install</span></span><br><span class="line">10-graphical</span><br><span class="line">11:<span class="comment"># Use CDROM installation media</span></span><br><span class="line">12:cdrom</span><br></pre></td></tr></table></figure></li></ul><h3 id="文本三剑客之sed"><a href="#文本三剑客之sed" class="headerlink" title="文本三剑客之sed"></a>文本三剑客之sed</h3><blockquote><p> sed是一种流编辑器，它<strong>一次处理一行内容</strong>。处理时，把当前处理的行存储在临时缓冲区中，称为<strong>“模式空间”</strong>，接着用sed命令处理缓冲区中的内容，处理完成后，把缓冲区的内容送往屏幕。然后读入下一行，执行下一个循环。如果没有使用诸如“D”的特殊命令，那会在两个循环之间清空模式空间，但不会清空<strong>保留空间</strong>。这样不断重复，直到文件末尾。<strong>文件内容并没有改变，除非使用重定向存储输出或-i。</strong></p></blockquote><ul><li><p>用法</p><p>sed [选项] pattern file</p><p><strong>其中，pattern部分涵盖被处理行的地址定界，以及对行的处理，如替换等</strong></p></li><li><p>选项</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-n：取消模式空间输出，转而输出匹配到的行，需要地址定界，通常组合编辑命令p进行打印输出。</span><br><span class="line">-e：多个命令在处理文件时，将多个命令中指定的命令添加到运行的命令中。</span><br><span class="line">-f：在处理文件时，将特定文件中指定的内容添加到运行的命令中，使文件做相应的修改。</span><br><span class="line">-i：直接将处理的结果写入文件</span><br></pre></td></tr></table></figure></li><li><p>编辑</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">p：打印当前模式空间内容，追加到默认输出之后</span><br><span class="line">a：在指定行后面追加文本，支持使用\n实现多行追加</span><br><span class="line">i：在行前面插入文本，支持使用\n实现多行追加</span><br><span class="line">c：替换行为单行或多行文本，支持使用\n实现多行追加</span><br><span class="line">w：保存模式匹配的行至指定文件</span><br><span class="line">r：读取指定文件的文本至模式空间中匹配到的行后</span><br><span class="line">s///：查找替换，支持使用其它分隔符，如：s@@@，s<span class="comment">###等，加g表示行内全局替换；</span></span><br></pre></td></tr></table></figure></li><li><p>例如</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@demo ~]<span class="comment"># head -5 file </span></span><br><span class="line"><span class="comment">#version=RHEL8</span></span><br><span class="line">ignoredisk --only-use=nvme0n1</span><br><span class="line">autopart --<span class="built_in">type</span>=lvm</span><br><span class="line"><span class="comment"># Partition clearing information</span></span><br><span class="line">clearpart --none --initlabel</span><br><span class="line">[root@demo ~]<span class="comment"># sed -n &#x27;1p&#x27; file                  #p打印，1为行号，即为打印第一行 </span></span><br><span class="line"><span class="comment">#version=RHEL8</span></span><br><span class="line">[root@demo ~]<span class="comment"># sed -n &#x27;1,5p&#x27; file                #打印1-5行</span></span><br><span class="line"><span class="comment">#version=RHEL8</span></span><br><span class="line">ignoredisk --only-use=nvme0n1</span><br><span class="line">autopart --<span class="built_in">type</span>=lvm</span><br><span class="line"><span class="comment"># Partition clearing information</span></span><br><span class="line">clearpart --none --initlabel</span><br><span class="line">[root@demo ~]<span class="comment"># sed -n &#x27;1~2p&#x27; file                #打印1行及后续步进为2的所有行，也就是奇数行打印。</span></span><br><span class="line"><span class="comment">#version=RHEL8</span></span><br><span class="line">autopart --<span class="built_in">type</span>=lvm</span><br><span class="line">clearpart --none --initlabel</span><br><span class="line">fod</span><br><span class="line"><span class="comment"># Use graphical install</span></span><br><span class="line"><span class="comment"># Use CDROM installation media</span></span><br><span class="line">[root@demo ~]<span class="comment"># sed &#x27;2a123&#x27;  file                #第二行后加入123</span></span><br><span class="line"><span class="comment">#version=RHEL8</span></span><br><span class="line">ignoredisk --only-use=nvme0n1</span><br><span class="line">123</span><br><span class="line">[root@demo ~]<span class="comment"># sed &#x27;1i123&#x27;  file                #第一行前加入123</span></span><br><span class="line">123</span><br><span class="line"><span class="comment">#version=RHEL8</span></span><br><span class="line">[root@demo ~]<span class="comment"># sed -i &#x27;1i123&#x27;  file                #-i对原文件生效</span></span><br><span class="line">[root@demo ~]<span class="comment"># head  -3  file                     </span></span><br><span class="line">123</span><br><span class="line"><span class="comment">#version=RHEL8</span></span><br><span class="line">ignoredisk --only-use=nvme0n1</span><br><span class="line">[root@demo ~]<span class="comment"># sed -e  &#x27;1i123&#x27; -e &#x27;2a455&#x27; file  #-e同时输入多个指令，在原第一行前加入123，在原第二行后边加入456</span></span><br><span class="line">123</span><br><span class="line">123</span><br><span class="line"><span class="comment">#version=RHEL8</span></span><br><span class="line">455</span><br><span class="line">[root@demo ~]<span class="comment"># sed &#x27;2s/RHEL/rhel/&#x27; file         #第2行RHEL替换为rhel</span></span><br><span class="line">123</span><br><span class="line"><span class="comment">#version=rhel8</span></span><br><span class="line">ignoredisk --only-use=nvme0n1</span><br><span class="line">[root@demo ~]<span class="comment"># cat txt </span></span><br><span class="line">s/RHEL/rhel/g</span><br><span class="line">[root@demo ~]<span class="comment"># sed -f txt file                #利用txt文件中的命令，完成全文的查找替换</span></span><br><span class="line">123</span><br><span class="line"><span class="comment">#version=rhel8</span></span><br><span class="line">ignoredisk --only-use=nvme0n1</span><br><span class="line">autopart --<span class="built_in">type</span>=lvm</span><br><span class="line">[root@demo ~]<span class="comment"># sed &#x27;1rtxt&#x27; file              #将txt文件中的内容读到第一行后</span></span><br><span class="line">123</span><br><span class="line">s/RHEL/rhel/g</span><br><span class="line"><span class="comment">#version=RHEL8</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="文本三剑客之awk"><a href="#文本三剑客之awk" class="headerlink" title="文本三剑客之awk"></a>文本三剑客之awk</h3><blockquote><p>awk是一个强大的文本分析工具，相对于grep的查找，sed的编辑，awk在其对数据分析并生成报告时，显得尤为强大。简单来说awk就是把文件逐行的读入，以空格为默认分隔符将每行切片，切开的部分再进行各种分析处理，它更像是一门编程语言，支持条件判断、数组、循环等功能。</p></blockquote><ul><li><p>用法</p><p>awk [选项] pattern file</p><p><strong>其中pattern主要包含两部分，匹配规则和执行命令，而awk最擅长的就是文本的格式化处理，所以最常见的动作就是print。</strong></p></li><li><p>选项</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-F：指定分隔符，awk命令默认分隔符为空格或制表符</span><br><span class="line">-v：定义或者修改一个变量</span><br><span class="line">-f：从脚本文件中读取awk命令</span><br></pre></td></tr></table></figure></li><li><p>内置变量</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ARGC：命令行参数个数</span><br><span class="line">ARGV：命令行参数排列</span><br><span class="line">ENVIRON：支持队列中系统环境变量的使用</span><br><span class="line">FILENAME：awk浏览的文件名</span><br><span class="line">FNR：浏览文件的记录数</span><br><span class="line">FS：设置输入字符分隔符，等价于命令行 -F选项</span><br><span class="line">OFS：输出字符分隔符</span><br><span class="line">NF：浏览记录的域的个数（几列）</span><br><span class="line">NR：已读的记录数（几行）</span><br><span class="line">ORS：输出记录分隔符</span><br><span class="line">RS：输入记录分隔符</span><br><span class="line"><span class="variable">$0</span>变量是指整条记录。<span class="variable">$1</span>表示当前行的第一个域,<span class="variable">$2</span>表示当前行的第二个域,......以此类推。</span><br></pre></td></tr></table></figure></li><li><p>例如</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@demo ~]<span class="comment"># cat file                 #分隔符为空格</span></span><br><span class="line">hello linux hah</span><br><span class="line">hello file</span><br><span class="line">file process</span><br><span class="line">[root@demo ~]<span class="comment"># awk &#x27;&#123;print $1&#125;&#x27; file     #打印file文件的第一列</span></span><br><span class="line">hello</span><br><span class="line">hello</span><br><span class="line">file</span><br><span class="line">[root@demo ~]<span class="comment"># awk &#x27;&#123;print $1,$2&#125;&#x27; file  #打印第一列和第二列</span></span><br><span class="line">hello linux</span><br><span class="line">hello file</span><br><span class="line">file process</span><br><span class="line">[root@demo ~]<span class="comment"># awk -v &quot;OFS=:&quot; &#x27;&#123;print $1,$2&#125;&#x27; file   #将输出字符分隔符替换为：</span></span><br><span class="line">hello:linux</span><br><span class="line">hello:file</span><br><span class="line">file:process</span><br><span class="line">[root@demo ~]<span class="comment"># awk   -F: &#x27;&#123;print $1&#125;&#x27; /etc/passwd   #设置输入字符分隔符为：</span></span><br><span class="line">root</span><br><span class="line">bin</span><br><span class="line">daemon</span><br><span class="line">adm</span><br><span class="line">lp</span><br><span class="line">[root@demo ~]<span class="comment"># awk  &#x27;&#123;print NR&#125;&#x27; file           #打印已读记录数</span></span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">[root@demo ~]<span class="comment"># awk  &#x27;&#123;print NF&#125;&#x27; file          #打印每个记录中列数</span></span><br><span class="line">3</span><br><span class="line">2</span><br><span class="line">2</span><br><span class="line">[root@demo ~]<span class="comment"># awk  &#x27;&#123;print $(NF-1)&#125;&#x27; file    #打印倒数第二列</span></span><br><span class="line">linux</span><br><span class="line">hello</span><br><span class="line">file</span><br></pre></td></tr></table></figure></li></ul><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>三剑客各有应用场景，其中grep主要用于搜索字符串，sed主要用于文本的处理，而awk主要用于文本处理的格式化。</p><p>grep主要以行为单位处理，sed和awk逐行读取文件，以字段为单位处理文本。</p>]]></content>
      
      
      <categories>
          
          <category> share </category>
          
      </categories>
      
      
        <tags>
            
            <tag> grep </tag>
            
            <tag> awk </tag>
            
            <tag> sed </tag>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linux那些事儿-vim编辑器</title>
      <link href="/posts/9305/"/>
      <url>/posts/9305/</url>
      
        <content type="html"><![CDATA[<h2 id="关于文本编辑器"><a href="#关于文本编辑器" class="headerlink" title="关于文本编辑器"></a>关于文本编辑器</h2><p>Linux下的文本编辑器有很多，比如图形模式的gedit、kwrite、OpenOffice ……，文本模式下的编辑器有vi、vim（vi的增强版本）……，vi是Linux中默认的编辑器。我们有必要介绍一下vi的用法，以让Linux入门级用户在最短的时间内学会使用它。 而vim作为vi的增强版本，向来有着<del>最好用的IDE</del>之称，这来自于其继承自vi的多样化的编辑体验，以及自身对多种代码的支持。</p><h2 id="vi-编辑器"><a href="#vi-编辑器" class="headerlink" title="vi 编辑器"></a>vi 编辑器</h2><p>为什么要学会简单应用vi？众所周知，linux中一切皆文件，虽然并非所有文件都是用文本编辑器进行read or write，但一般来说，几乎所有的配置文件都需要用到文本编辑器。vi或vim是Linux中最基本的文本编辑工具，vi或vim虽然没有图形界面编辑器那样点鼠标的简单操作，但vi编辑器在系统管理、服务器管理中，永远不是图形界面的编辑器能比的。当你没有安装X-windows桌面环境或桌面环境崩溃时，我们仍需要是用字符模式下的编辑器vi，而在进行纯字符编辑时，vi或vim无疑是一个高效的工具。</p><h2 id="vi-编辑器的使用方法"><a href="#vi-编辑器的使用方法" class="headerlink" title="vi 编辑器的使用方法"></a>vi 编辑器的使用方法</h2><h3 id="如何调用vi"><a href="#如何调用vi" class="headerlink" title="如何调用vi"></a>如何调用vi</h3><p>[root@localhost ~]# vi filename </p><h3 id="vi-常用的的三种模式"><a href="#vi-常用的的三种模式" class="headerlink" title="vi 常用的的三种模式"></a>vi 常用的的三种模式</h3><p>命令模式，用于输入命令； 插入模式，用于编辑文本； 末行模式，用于各种功能的实现。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flowchart LR</span><br><span class="line">a(vi/vim 文件)--&gt;b(命令模式)</span><br><span class="line">b--aio等键--&gt;c(插入模式)</span><br><span class="line">b--:--&gt;d(末行模式)</span><br><span class="line">c--esc键--&gt;b</span><br><span class="line">d--esc键--&gt;b</span><br></pre></td></tr></table></figure><h3 id="光标移动"><a href="#光标移动" class="headerlink" title="光标移动"></a>光标移动</h3><p>当我们进入vi的命令模式后，我们可以用下面的一些键位来移动光标：</p><p> <strong>k</strong> 向上移动一行        <strong>j</strong> 向下移动一行</p><p> <strong>h</strong> 向左移动一个字符     <strong>l</strong> 向右移动一个字符</p><p><strong>ctrl+b</strong> 向上移动一屏 <strong>ctrl+f</strong> 向下移动一屏</p><p>当然，默认的：向上箭头&#x3D;向上移动，向下箭头&#x3D;向下移动，向左箭头&#x3D;向左移动，向右箭头&#x3D;向右移动。 我们编辑一个文件时，对于 j、k、l和h键，还能在这些动作命令的前面加上数字，比如 3j，表示向下移动3行。</p><h3 id="文本内容的删除、复制和粘贴"><a href="#文本内容的删除、复制和粘贴" class="headerlink" title="文本内容的删除、复制和粘贴"></a>文本内容的删除、复制和粘贴</h3><p>命令模式是vi或vim的默认模式，无论我们处于其它什么模式，都可以通过ESC键切换过来。 当我们按ESC键后，接着再按下特定的按键组合，可以实现某些功能，如删除、复制和粘贴。</p><table><thead><tr><th align="center">按键</th><th>功能</th></tr></thead><tbody><tr><td align="center">x</td><td>删除一个字符</td></tr><tr><td align="center">#x</td><td>删除几个字符，#表示数字，比如3x</td></tr><tr><td align="center">dw</td><td>删除一个单词</td></tr><tr><td align="center">#dw</td><td>删除几个单词，#用数字表示，比如3dw表示删除三个单词</td></tr><tr><td align="center">dd</td><td>删除一行</td></tr><tr><td align="center">#dd</td><td>删除多个行，#代表数字，比如3dd 表示删除光标行及光标的下两行</td></tr><tr><td align="center">d$</td><td>删除光标到行尾的内容</td></tr><tr><td align="center">J</td><td>清除光标所处的行与上一行之间的空格，把光标行和上一行接在一起</td></tr></tbody></table><p>其实删除也带有剪切的意思，当我们删除文字时，可以把光标移动到某处，然后按P^大写^键就把内容贴在光标之前，然后再移动光标到某处，然后再按p^小写^键将内容贴在光标之后。</p><blockquote><p>取决于剪切的内容是整行还是某些字符，在进行粘贴时，也会有所不同，如剪切的是整行，按下p键粘贴时，会在光标行的下方进行粘贴，而如果剪切的是某些字符，则会直接在光标后进行粘贴。</p></blockquote><table><thead><tr><th align="center">按键</th><th>功能</th></tr></thead><tbody><tr><td align="center">yw</td><td>复制一个单词</td></tr><tr><td align="center">y#w</td><td>复制几个单词，#用数字表示，比如y3w表示复制三个单词</td></tr><tr><td align="center">yy</td><td>复制一行</td></tr><tr><td align="center">#yy</td><td>复制多个行，#代表数字，比如3yy 表示复制光标行及光标的下两行</td></tr><tr><td align="center">y$</td><td>复制光标到行尾的内容</td></tr><tr><td align="center">yG</td><td>复制光标到末尾所有行</td></tr></tbody></table><h3 id="插入模式（文本的插入）"><a href="#插入模式（文本的插入）" class="headerlink" title="插入模式（文本的插入）"></a>插入模式（文本的插入）</h3><p>i 在光标之前插入； a 在光标之后插入；</p><p>I 在光标所在行的行首插入； A 在光标所在行的行末插入；</p><p>o 在光标所在的行的下面插入一行； O 在光标所在的行的上面插入一行；</p><p>s 删除光标位置的一个字符，然后进入插入模式； S 删除光标所在的行，然后进入插入模式；</p><h3 id="末行模式下的保存与退出"><a href="#末行模式下的保存与退出" class="headerlink" title="末行模式下的保存与退出"></a>末行模式下的保存与退出</h3><p>作为win下notepad的受害者，很多vi编辑器的初学者经常采用错误的方式退出vi，这很可能使得文件的编辑失去作用。正确的保存与退出，需要输入：号，进入末行模式，并按某些按键实现具体的功能。</p><table><thead><tr><th align="center">按键</th><th>功能</th></tr></thead><tbody><tr><td align="center">:w</td><td>保存</td></tr><tr><td align="center">:w filename</td><td>另存为filename</td></tr><tr><td align="center">:wq!</td><td>保存退出</td></tr><tr><td align="center">wq! filename</td><td>以filename为文件名保存后退出</td></tr><tr><td align="center">q!</td><td>不保存退出</td></tr></tbody></table><h3 id="恢复修改及恢复删除操作"><a href="#恢复修改及恢复删除操作" class="headerlink" title="恢复修改及恢复删除操作"></a>恢复修改及恢复删除操作</h3><p>按ESC键返回命令模式，然后按下u键可以撤消最近的一次修改或删除操作，如果您想撤消多个以前的修改或删除操作，请按多按几次u。这和Word的撤消操作没有太大的区别。</p><h3 id="关于行号"><a href="#关于行号" class="headerlink" title="关于行号"></a>关于行号</h3><p>有时我们配置一个程序运行时，会出现配置文件X行出现错误 。这时我们要用到行号相关的操作，按下ESC键回到命令模式，然后输入<code>:set nu</code>即可设置显示行号，再次按下<code>:set nonu</code>取消行号显示，并且可按下#G快速跳转第#行。</p><h3 id="查找和替换功能"><a href="#查找和替换功能" class="headerlink" title="查找和替换功能"></a>查找和替换功能</h3><p><strong>查找</strong></p><p>首先，我们要进入ESC键，进入命令模式，我们输入&#x2F;或?就进入查找模式了。</p><p><code>/word</code> 注：正向查找word，按n键，把光标移动到下一个符合条件的地方，按N键，把光标移动到上一个符合条件的地方。</p><p><code>?word</code> 注：反向查找word，按n键，把光标移动到下一个符合条件的地方，按N键，把光标移动到上一个符合条件的地方。</p><p><strong>替换</strong></p><p>按ESC键进入命令模式。</p><p>按下<code>:s /old/new</code> 注：把当前光标所处的行中的第一个old单词，替换成new</p><p><code>:s /old/new/g</code> 注：把当前光标所处的行中的old单词，替换成new，并把所有old高亮显示；</p><p><code>:%s /old/new</code> 注：把文档中所有行的第一个old替换成new；</p><p><code>:%s /old/newg</code> 注：把文档中所有的old替换成new；</p><p><code>:#,# s /old/new/g</code> 注：＃号表示数字，表示从多少行到多少行，把old替换成new。 </p><blockquote><p>在这之中，g表示全局查找。</p></blockquote><p>举例说明： 比如我们有一篇文档要修改，我们把光标所在的行，把所有单词the，替换成THE，应该是 <code>:s /the/THE/g</code> 我们把整篇文档的所有的the都替换成THE，应该是 <code>:%s /the/THE/g</code>我们仅仅是把第1行到第10行中的the，替换成THE，应该是 <code>:1,10 s /the/THE/g</code></p>]]></content>
      
      
      <categories>
          
          <category> share </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HCIP-CloudComputing部署过程避坑指南（持续更新中）</title>
      <link href="/posts/17657/"/>
      <url>/posts/17657/</url>
      
        <content type="html"><![CDATA[<p>作为一门成熟的认证，云计算应当自己修复自己的bug。</p><h2 id="openstack-部署"><a href="#openstack-部署" class="headerlink" title="openstack 部署"></a>openstack 部署</h2><h3 id="1-基于centos-rhel部署（暂时放弃，不如直接使用rdo部署）"><a href="#1-基于centos-rhel部署（暂时放弃，不如直接使用rdo部署）" class="headerlink" title="1.基于centos&#x2F;rhel部署（暂时放弃，不如直接使用rdo部署）"></a><del>1.基于centos&#x2F;rhel部署（暂时放弃，不如直接使用rdo部署）</del></h3><h3 id="2-基于ubuntu部署（destop20-04）"><a href="#2-基于ubuntu部署（destop20-04）" class="headerlink" title="2.基于ubuntu部署（destop20.04）"></a>2.基于ubuntu部署（destop20.04）</h3><ul><li><p>部署过程中会更新系统软件，建议更换国内源。</p></li><li><p>部署过程中需要使用git，需要安装对应的软件</p><p><code>apt  install  git -y</code></p></li><li><p>本地安装需要调整cpu虚拟化，切记</p></li><li><p>云化安装尽量使用按流量计费。</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> 随笔 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cloud </tag>
            
            <tag> openstack </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VXLAN工作原理</title>
      <link href="/posts/60853/"/>
      <url>/posts/60853/</url>
      
        <content type="html"><![CDATA[<p><img src="https://s2.loli.net/2022/10/26/KrOsocfqDVCgh2B.png" alt="vxlan"></p>]]></content>
      
      
      <categories>
          
          <category> 随笔 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> VLAN </tag>
            
            <tag> VXLAN </tag>
            
            <tag> 网络 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>家庭装修MESH组网设计</title>
      <link href="/posts/18831/"/>
      <url>/posts/18831/</url>
      
        <content type="html"><![CDATA[<h3 id="组网方法一（家用网管交换机-客厅单线复用）"><a href="#组网方法一（家用网管交换机-客厅单线复用）" class="headerlink" title="组网方法一（家用网管交换机+客厅单线复用）"></a>组网方法一（家用网管交换机+客厅单线复用）</h3><p><img src="https://s2.loli.net/2022/10/24/9ZiePklBMoNGTtY.png" alt="单线复用"></p><p>光猫LAN口连接交换机1口（设置PVID 10 ；untagged vlan 10），IPTV连接交换机2口（设置PVID 20 ；untagged vlan 20），交换机3口（tagged vlan 10 20 30）单线复用到客厅，客厅墙插连接第二台交换机3口（tagged vlan 10 20 30），第二台交换机1口（设置PVID 10 ；untagged vlan 10）连接电视看IPTV，2口（设置PVID 20 ；untagged vlan 20）连接主路由wan口，4口（设置PVID 30 ；untagged vlan 30）连接主路由LAN口，用于有线mesh回程。</p><p>优点：单线复用</p><p>缺点：交换机价格贵、需要在客厅放置交换机</p><h3 id="组网方法二（无交换机-三线到客厅）"><a href="#组网方法二（无交换机-三线到客厅）" class="headerlink" title="组网方法二（无交换机+三线到客厅）"></a>组网方法二（无交换机+三线到客厅）</h3><p><img src="https://s2.loli.net/2022/10/24/3QoniO9fcZVs5BG.png" alt="三线无复用"></p><p>优点：组网简单，价格便宜</p><p>缺点：需要事先预埋三根网线，且客厅需要网线墙插比较多。</p>]]></content>
      
      
      <categories>
          
          <category> 随笔 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vlan </tag>
            
            <tag> mesh </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>timeline</title>
      <link href="/posts/25498/"/>
      <url>/posts/25498/</url>
      
        <content type="html"><![CDATA[<div class="timeline green"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2022</p></div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>01-02</p></div></div><div class='timeline-item-content'><p>时间线收缩中</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>02-02</p></div></div><div class='timeline-item-content'><p>收缩中</p></div></div></div><p>配置方式</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% timeline 2022,green %&#125;</span><br><span class="line">&lt;!-- timeline 01-02 --&gt;</span><br><span class="line">时间线收缩中</span><br><span class="line">&lt;!-- endtimeline --&gt;</span><br><span class="line">&lt;!-- timeline 02-02 --&gt;</span><br><span class="line">收缩中</span><br><span class="line">&lt;!-- endtimeline --&gt;</span><br><span class="line">&#123;% endtimeline %&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 随笔 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> butterfly </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>windows静态路由</title>
      <link href="/posts/46735/"/>
      <url>/posts/46735/</url>
      
        <content type="html"><![CDATA[<p>在部署HCIE云计算环境时，由于前期借鉴了官方部署手册，在部署部分虚拟机时将网络使用了跟公司内网向邻近的网段，后期为了让学生使用跳转机，而给虚拟机添加了链接公网的网卡，使得虚拟机双网卡（公网跳转、私网互联），私网有三层连接，而这也产生了一个问题，那就是默认其他虚拟机无法被跳转机直接访问，所以这时候需要使用win的静态路由。</p><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">route 可以创建、查看、删除静态路由</span><br><span class="line">ROUTE [-<span class="type">f</span>] [-<span class="type">p</span>] [-<span class="number">4</span>|-<span class="number">6</span>] command [<span class="type">destination</span>]  [<span class="type">MASK</span> <span class="type">netmask</span>]  [<span class="type">gateway</span>] [<span class="type">METRIC</span> <span class="type">metric</span>]  [<span class="type">IF</span> <span class="built_in">int</span><span class="type">erface</span>]</span><br><span class="line"> <span class="operator">-f</span>           清除所有网关项的路由表。如果与某个</span><br><span class="line">               命令结合使用，在运行该命令前，</span><br><span class="line">               应清除路由表。</span><br><span class="line"></span><br><span class="line">  <span class="literal">-p</span>           与 ADD 命令结合使用时，将路由设置为</span><br><span class="line">               在系统引导期间保持不变。默认情况下，重新启动系统时，</span><br><span class="line">               不保存路由。忽略所有其他命令，</span><br><span class="line">               这始终会影响相应的永久路由。</span><br><span class="line"></span><br><span class="line">  <span class="literal">-4</span>           强制使用 IPv4。</span><br><span class="line"></span><br><span class="line">  <span class="literal">-6</span>           强制使用 IPv6。</span><br><span class="line"></span><br><span class="line">  command      其中之一:</span><br><span class="line">                 PRINT     打印路由</span><br><span class="line">                 ADD       添加路由</span><br><span class="line">                 DELETE    删除路由</span><br><span class="line">                 CHANGE    修改现有路由</span><br><span class="line">  destination  指定主机。</span><br><span class="line">  MASK         指定下一个参数为“netmask”值。</span><br><span class="line">  netmask      指定此路由项的子网掩码值。</span><br><span class="line">               如果未指定，其默认设置为 <span class="number">255.255</span>.<span class="number">255.255</span>。</span><br><span class="line">  gateway      指定网关。</span><br><span class="line">  interface    指定路由的接口号码。</span><br><span class="line">  METRIC       指定跃点数，例如目标的成本。</span><br><span class="line"> </span><br></pre></td></tr></table></figure><p>所以，如果要永久设置静态路由，则使用如下方式</p><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">route add  <span class="literal">-p</span>  <span class="number">192.168</span>.<span class="number">1.0</span> mask <span class="number">255.255</span>.<span class="number">255.0</span> <span class="number">192.168</span>.<span class="number">2.254</span></span><br><span class="line">其中<span class="number">192.168</span>.<span class="number">1.0</span>/<span class="number">24</span>为要路由到的地址，<span class="number">192.168</span>.<span class="number">2.254</span>为本机某网卡的网关，当然也可以使用<span class="keyword">if</span>设置接口，接口号在下述命令中查看。</span><br><span class="line">配置完成，使用如下命令查看即可</span><br><span class="line">route  print</span><br></pre></td></tr></table></figure><p>如果不需要相应的路由条目了，使用如下方式删除即可。</p><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">route delete <span class="number">192.168</span>.<span class="number">1.0</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 随笔 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 路由 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>RHEL系列网站环境SELinux的设置</title>
      <link href="/posts/54274/"/>
      <url>/posts/54274/</url>
      
        <content type="html"><![CDATA[<p>​    在搭建如LAMP或者LNMP等环境时，往往大家会设置selinux为宽容或者关闭状态，如使用<code>setenforce 0</code>或者编辑&#x2F;etc&#x2F;selinux&#x2F;config等文件。出于安全考虑，<del>这是不太好的</del>，当然这很方便。</p><p>​    需要注意的是，本文使用的semanage命令来自于软件<code>policycoreutils-python-utils</code>，同时，配置方式及命令也不止本文一种。</p><h2 id="端口的设置"><a href="#端口的设置" class="headerlink" title="端口的设置"></a>端口的设置</h2><p>​    在SELinux中，当时用非默认端口访问服务器时，服务器上的SELinux会认为从这个端口来的流量不是某个类型的，从而无法访问对应类型的进程。</p><ul><li><p>查看方式</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">semanage port -l |grep http</span><br><span class="line"><span class="comment">#查看SELinux认为的http相关的默认端口设置</span></span><br></pre></td></tr></table></figure></li><li><p>配置方式</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">semanage port  -a -t http_port_t -p 82 tcp</span><br><span class="line"><span class="comment">#将非默认端口82加入到http的端口类型中，从而让SELinux认为从82端口进来的流量是http流量，可以使用httpd类型的进程。实际上，如果不这样设置，而贸然将httpd或者nginx的监听端口改为82，则相应程序无法启动。</span></span><br></pre></td></tr></table></figure></li></ul><blockquote><p>端口类型的查看：netstat  -anZ </p><p>进程类型的查看：ps -efZ</p></blockquote><h2 id="文件安全上下文类型的修改"><a href="#文件安全上下文类型的修改" class="headerlink" title="文件安全上下文类型的修改"></a>文件安全上下文类型的修改</h2><p>​    SELinux在targeted策略，enforcing模式下，强制进程只能访问与之相同类型的文件，并且记录到日志。</p><p>​    通常情况下，创建的文件是无法被httpd等直接访问的，原因就是创建的文件安全上下文类型不匹配。</p><ul><li><p>查看方式</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">ls</span>  -Z  /var/www/html/index.html</span><br></pre></td></tr></table></figure></li><li><p>修改方式</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">semanage fcontext -a -t httpd_sys_content_t <span class="string">&quot;/var/www/html(/.*)?&quot;</span></span><br><span class="line"><span class="comment">#这样修改了/var/www/html文件夹的默认安全上下文类型，并且之后在文件夹中生成或者创建的文件，都将是这个类型。但此时尚未完全修改完毕。</span></span><br><span class="line">restorecon  -Rv /var/www/html</span><br><span class="line"><span class="comment">#将/var/www/html及其子文件安全上下文类型全部恢复默认。</span></span><br></pre></td></tr></table></figure></li></ul><p>通常情况下，做到此处，网站首页已经基本可以访问。</p><h2 id="布尔值的修改"><a href="#布尔值的修改" class="headerlink" title="布尔值的修改"></a>布尔值的修改</h2><p>​    但是，由于SELinux对程序功能的限制，此时，可能网站程序在调用时，仍然不能完成初始化，如Discuz！文件不可写（排除掉本身文件不可写）、wordpress提示手动创建文件等。</p><p>​    这里的原因多数是因为SELinux限制了httpd或者Nginx程序的访问，通过日志查看<code>audit2why &lt; /var/log/audit/audit.log</code>。<del>日志显示php-fpm访问受限</del></p><p>​    发现如下提示：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Allow access by executing:</span><br><span class="line">#setsebool -P httpd_unified 1</span><br></pre></td></tr></table></figure><p>​可以看出，日志已经给出了解决办法，就是将httpd_unified的布尔值设置为开启。当然，个人偏好使用如下方式。</p><ul><li><p>查看方式</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">semanage boolean -l |grep http</span><br><span class="line">semanage boolean -l -C  查看个人配置的布尔值</span><br></pre></td></tr></table></figure></li><li><p>配置方式</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">semanage boolean -m --on httpd_unified</span><br></pre></td></tr></table></figure></li></ul><p>​    此时，web服务器应该是可以正常使用的。</p>]]></content>
      
      
      <categories>
          
          <category> 随笔 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> redhat </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>红帽认证考试流程</title>
      <link href="/posts/19178/"/>
      <url>/posts/19178/</url>
      
        <content type="html"><![CDATA[<p>各位学员，在红帽认证证书从Credy网站下载后，我们收到了一些关于账号注册或证书上的乱码相关的反馈。只要坚持以下两个原则就能避免这样的事情：</p><ol><li>务必使用英文（半角字符）注册红帽和Credy账号；</li><li>注册账号均使用相同邮箱。<br>考试当天填写注册信息使用该邮箱。</li></ol><embed src="./红帽认证考试流程.pdf" width="100%" height="750" type="application/pdf"><p><strong>证书关联下载</strong> 可参考此文档</p><embed src="./证书下载.pdf" width="100%" height="750" type="application/pdf">]]></content>
      
      
      <categories>
          
          <category> 随笔 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> redhat </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>butterfly主题魔改（一）</title>
      <link href="/posts/38766/"/>
      <url>/posts/38766/</url>
      
        <content type="html"><![CDATA[<h3 id="书记留言板"><a href="#书记留言板" class="headerlink" title="书记留言板"></a>书记留言板</h3><p>效果如图：<img src="https://s2.loli.net/2022/09/29/8AibaRecEyMjIhk.png" alt="image-20220929111723749"></p><p>修改方法：</p><ol><li>在hexo博客根目录下安装插件</li></ol><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-butterfly-envelope --save</span><br></pre></td></tr></table></figure><ol start="2"><li>打开网站配置文件或者主题配置文件，添加如下代码</li></ol><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># envelope_comment</span></span><br><span class="line"><span class="comment"># see https://akilar.top/posts/e2d3c450/</span></span><br><span class="line"><span class="attr">envelope_comment:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment">#控制开关</span></span><br><span class="line">  <span class="attr">custom_pic:</span>      </span><br><span class="line">    <span class="attr">cover:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-envelope/lib/violet.jpg</span> <span class="comment">#信笺头部图片</span></span><br><span class="line">    <span class="attr">line:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-envelope/lib/line.png</span> <span class="comment">#信笺底部图片</span></span><br><span class="line">    <span class="attr">beforeimg:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-envelope/lib/before.png</span> <span class="comment"># 信封前半部分</span></span><br><span class="line">    <span class="attr">afterimg:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-envelope/lib/after.png</span> <span class="comment"># 信封后半部分</span></span><br><span class="line">  <span class="attr">message:</span> <span class="comment">#信笺正文，多行文本，写法如下</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">有什么想问的？</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">有什么想说的？</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">有什么想吐槽的？</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">哪怕是有什么想吃的，都可以告诉我哦~</span></span><br><span class="line">  <span class="attr">bottom:</span> <span class="string">自动书记人偶竭诚为您服务！</span> <span class="comment">#仅支持单行文本</span></span><br><span class="line">  <span class="attr">height:</span> <span class="comment">#1050px，信封划出的高度</span></span><br><span class="line">  <span class="attr">path:</span> <span class="comment">#【可选】comments 的路径名称。默认为 comments，生成的页面为 comments/index.html</span></span><br><span class="line">  <span class="attr">front_matter:</span> <span class="comment">#【可选】comments页面的 front_matter 配置</span></span><br><span class="line">    <span class="attr">title:</span> <span class="string">留言板</span></span><br><span class="line">    <span class="attr">comments:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h3 id="Gitalk评论"><a href="#Gitalk评论" class="headerlink" title="Gitalk评论"></a>Gitalk评论</h3><p>1、什么是gitalk<br>官方网址： <a href="https://gitalk.github.io/">https://gitalk.github.io</a><br>官方中文文档： <a href="https://github.com/gitalk/gitalk/blob/master/readme-cn.md">https://github.com/gitalk/gitalk/blob/master/readme-cn.md</a></p><p>2、gitalk特点<br>1、使用 GitHub 登录<br>2、支持多语言 [en, zh-CN, zh-TW, es-ES, fr, ru]<br>3、支持个人或组织<br>4、无干扰模式（设置 distractionFreeMode 为 true 开启）<br>5、快捷键提交评论 （cmd|ctrl + enter）</p><p>3、集成<br>（1）在github上注册新应用</p><p>申请GitHub OAuth application流程：</p><blockquote><p>1、打开github网站登陆后，点击右上角的用户图标，选择Settings<br>2、 在Settings页面选择Developer settings选项。<br>3、在Developer settings选择OAuth Apps,然后会在页面右边有一个New OAuth App按钮，点击这个按钮就进入到新建OAuth application页面<br>4、也可以直接打开这个<a href="https://github.com/settings/applications/new">链接</a>进入新建页面</p></blockquote><p><img src="https://s2.loli.net/2022/09/29/fMvHbY2kNw9ZVSP.png" alt="image-20220929160159314"></p><p>填写完成可以得到<code>Client ID</code>,然后点击生成<code>Client Secret</code></p><p><img src="https://s2.loli.net/2022/09/29/C8txSAZ12Op5mGv.png" alt="image-20220929160301001"></p><p>（2）申请一个仓库做评论存储，记住仓库名，到时需要填入hexo的_config.yml配置中</p><p>（3）修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># gitalk</span></span><br><span class="line"><span class="comment"># https://github.com/gitalk/gitalk</span></span><br><span class="line"><span class="attr">gitalk:</span></span><br><span class="line">  <span class="attr">client_id:</span> <span class="comment">#你的client id</span></span><br><span class="line">  <span class="attr">client_secret:</span> <span class="comment">#你的client_secret</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="comment">#你的仓库名</span></span><br><span class="line">  <span class="attr">owner:</span> <span class="comment">#你的github用户名</span></span><br><span class="line">  <span class="attr">admin:</span> <span class="comment">#该仓库的拥有者和协作者</span></span><br><span class="line">  <span class="attr">language:</span> <span class="string">zh-CN</span> <span class="comment"># en, zh-CN, zh-TW, es-ES, fr, ru</span></span><br><span class="line">  <span class="attr">perPage:</span> <span class="number">10</span> <span class="comment"># Pagination size, with maximum 100.</span></span><br><span class="line">  <span class="attr">distractionFreeMode:</span> <span class="literal">false</span> <span class="comment"># Facebook-like distraction free mode.</span></span><br><span class="line">  <span class="attr">pagerDirection:</span> <span class="string">last</span> <span class="comment"># Comment sorting direction, available values are last and first.</span></span><br><span class="line">  <span class="attr">createIssueManually:</span> <span class="literal">false</span> <span class="comment"># Gitalk will create a corresponding github issue for your every single page automatically</span></span><br><span class="line">  <span class="attr">option:</span></span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2022/09/29/aGVW6cP7gUkriIM.png" alt="image-20220929160804712"></p>]]></content>
      
      
      <categories>
          
          <category> 分享 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vlan基本原理</title>
      <link href="/posts/52179/"/>
      <url>/posts/52179/</url>
      
        <content type="html"><![CDATA[<p>早期的局域网LAN技术是基于总线型结构的，它存在以下主要问题：</p><ul><li><p>若某时刻有多个节点同时试图发送消息，那么它们将产生冲突。</p></li><li><p>从任意节点发出的消息都会被发送到其他节点，形成广播。</p></li><li><p>所有主机共享一条传输通道，无法控制网络中的信息安全。</p></li><li><p>这种网络构成了一个冲突域，网络中计算机数量越多，冲突越严重，网络效率越低。同时，该网络也是一个广播域，当网络中发送信息的计算机数量变多时，广播流量将会耗费大量带宽。</p></li></ul><p>因此，传统局域网不仅面临冲突域太大和广播域太大两大难题，而且无法保障传输信息的安全。</p><p>为了扩展传统LAN，以接入更多计算机，同时避免冲突的恶化，出现了网桥和二层交换机，它们能有效隔离冲突域。网桥和交换机采用交换方式将来自入端口的信息转发到出端口上，克服了共享网络中的冲突问题。但是，采用交换机进行组网时，广播域和信息安全问题依旧存在。</p><p>为限制广播域的范围，减少广播流量，需要在没有二层互访需求的主机之间进行隔离。路由器是基于三层IP地址信息来选择路由和转发数据的，其连接两个网段时可以有效抑制广播报文的转发，但成本较高。因此，人们设想在物理局域网上构建多个逻辑局域网，即VLAN。</p><img src="image-20220926160943727.png" alt="image-20220926160943727" style="zoom:80%;" /><img src="vlan1.png" alt="vlan标签" style="zoom:80%;" /><p>VLAN技术可以将一个物理局域网在逻辑上划分成多个广播域，也就是多个VLAN。VLAN技术部署在数据链路层，用于隔离二层流量。同一个VLAN内的主机共享同一个广播域，它们之间可以直接进行二层通信。而VLAN间的主机属于不同的广播域，不能直接实现二层互通。这样，广播报文就被限制在各个相应的VLAN内，同时也提高了网络安全性。</p><p>VLAN标签长4个字节，直接添加在以太网帧头中，IEEE802.1Q文档对VLAN标签作出了说明。</p><p>TPID：Tag Protocol Identifier，2字节，固定取值，0x8100，是IEEE定义的新类型，表明这是一个携带802.1Q标签的帧。如果不支持802.1Q的设备收到这样的帧，会将其丢弃。</p><p>TCI：Tag Control Information，2字节。帧的控制信息，详细说明如下：</p><ol><li><p>Priority：3比特，表示帧的优先级，取值范围为0～7，值越大优先级越高。当交换机阻塞时，优先发送优先级高的数据帧。</p></li><li><p>CFI：Canonical Format Indicator，1比特。CFI表示MAC地址是否是经典格式。CFI为0说明是经典格式，CFI为1表示为非经典格式。用于区分以太网帧、FDDI（Fiber Distributed Digital Interface）帧和令牌环网帧。在以太网中，CFI的值为0。</p></li><li><p>VLAN Identifier：VLAN ID，12比特，在X7系列交换机中，可配置的VLAN ID取值范围为0～4095，但是0和4095在协议中规定为保留的VLAN ID，不能给用户使用。</p></li></ol><p>在现有的交换网络环境中，以太网的帧有两种格式：</p><p>没有加上VLAN标记的标准以太网帧（untagged frame）；有VLAN标记的以太网帧（tagged frame）。</p><img src="vlan2.png" alt="PVID" style="zoom:80%;" /><p><font color="blue">PVID即Port VLAN ID</font>，代表端口的缺省VLAN。交换机从对端设备收到的帧有可能是Untagged的数据帧，但所有以太网帧在交换机中都是以Tagged的形式来被处理和转发的，因此交换机必须给端口收到的Untagged数据帧添加上Tag。为了实现此目的，必须为交换机配置端口的缺省VLAN。当该端口收到Untagged数据帧时，交换机将给它加上该缺省VLAN的VLAN Tag。</p><img src="vlan3.png" alt="access" style="zoom:80%;" /><p>交换机的G0&#x2F;0&#x2F;1，G0&#x2F;0&#x2F;2，G0&#x2F;0&#x2F;3端口分别连接三台主机，都配置为Access端口。主机A把数据帧（未加标签）发送到交换机的G0&#x2F;0&#x2F;1端口，再由交换机发往其他目的地。收到数据帧之后，交换机根据端口的PVID给数据帧打上VLAN标签10，然后决定从G0&#x2F;0&#x2F;3端口转发数据帧。G0&#x2F;0&#x2F;3端口的PVID也是10，与VLAN标签中的VLAN ID相同，交换机移除标签，把数据帧发送到主机C。连接主机B的端口的PVID是2，与VLAN10不属于同一个VLAN，因此此端口不会接收到VLAN10的数据帧。</p><img src="vlan4.png" alt="trunk" style="zoom:80%;" /><p>当Trunk端口收到帧时，如果该帧不包含Tag，将添加上端口的PVID；如果该帧包含Tag，则不改变。</p><p>当Trunk端口发送帧时，该帧的VLAN ID在Trunk的允许发送列表中：若与端口的PVID相同时，则剥离Tag发送；若与端口的PVID不同时，则直接发送。</p><img src="vlan5.png" alt="hybrid" style="zoom:80%;" /><blockquote><p>本例介绍了主机A和主机B发送数据给服务器的情况。在SWA和SWB互连的端口上配置了port hybrid tagged vlan 2 3 100命令后，SWA和SWB之间的链路上传输的都是带Tag标签的数据帧。在SWB连接服务器的端口上配置了port hybrid untagged vlan 2 3，主机A和主机B发送的数据会被剥离VLAN标签后转发到服务器。</p></blockquote><p>Hybrid端口既可以连接主机，又可以连接交换机。</p><p>Hybrid端口可以以Tagged 或Untagged方式加入VLAN.比如上图，要求主机A和主机B都能访问服务器，但是它们之间不能互相访问。此时交换机连接主机和服务器的端口，以及交换机互连的端口都配置为Hybrid类型。交换机连接主机A的端口的PVID是2，连接主机B的端口的PVID是3，连接服务器的端口的PVID是100。</p><p>当接收到对端设备发送的不带Tag的数据帧时，会添加该端口的PVID，如果PVID在允许通过的VLAN ID列表中，则接收该报文，否则丢弃该报文。当接收到对端设备发送的带Tag的数据帧时，检查VLAN ID是否在允许通过的VLAN ID列表中。如果VLAN ID在接口允许通过的VLAN ID列表中，则接收该报文，否则丢弃该报文。</p><p>Hybrid端口发送数据帧时，将检查该接口是否允许该VLAN数据帧通过。如果允许通过，则可以通过命令配置发送时是否携带Tag。</p><p>配置port hybrid tagged vlan vlan-id命令后，接口发送该vlan-id的数据帧时，不剥离帧中的VLAN Tag，直接发送。该命令一般配置在连接交换机的端口上。</p><p>配置port hybrid untagged vlan vlan-id命令后，接口在发送vlan-id的数据帧时，会将帧中的VLAN Tag剥离掉再发送出去。该命令一般配置在连接主机的端口上。</p>]]></content>
      
      
      <categories>
          
          <category> 随笔 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vlan </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>rhcsa</title>
      <link href="/posts/44336/"/>
      <url>/posts/44336/</url>
      
        <content type="html"><![CDATA[<h2 id="RHCSA8"><a href="#RHCSA8" class="headerlink" title="RHCSA8"></a>RHCSA8</h2><p><strong>重要配置信息</strong> 在考试期间，除了您就坐位置的台式机之外，还将使用多个虚拟系统。您不具有台式机系统 的根访问权，但具有对虚拟系统的完全根访问权。</p><h3 id="系统信息"><a href="#系统信息" class="headerlink" title="系统信息"></a>系统信息</h3><p><strong>练习环境使用</strong> <strong>node1.domain8.rhce.cc</strong> <strong>和</strong> <strong>node2.domain8.rhce.cc</strong> 您使用的系统属于 DNS 域 domain8.rhce.cc。</p><p>该域中的所有系统都位于 172.25.250.0&#x2F;255.255.255.0 子网中，该子网中的所有系统都位 于 domain8.rhce.cc 中。</p><p>针对这些系统列出的 IP 地址是应该分配给系统的地址。您可能需要为一个或两个系统配置 网络，以便能够通过上述地址访问您的地址。</p><h3 id="帐户信息"><a href="#帐户信息" class="headerlink" title="帐户信息"></a>帐户信息</h3><p>root 的根密码已经设置为 redhat 。 除非另有指定，否则这将是用于访问其他系统和服务的密码。此外，除非另有指定，否则应 将该密码用于您创建的什么问题帐户或者需要设置密码的任意服务。</p><h3 id="其他信息"><a href="#其他信息" class="headerlink" title="其他信息"></a>其他信息</h3><p>您可以通过 SSH 或控制台访问考试系统（参见下文所述）。请注意，SSH 访问权可能取决 于您解答其他考试项目的情况。 如果您需要在系统上安装其他软件，可以使用位于以下地址的存储库：</p><p><code>ftp://host.domain8.rhce.cc/dvd/BaseOS</code> </p><p><code>ftp://host.domain8.rhce.cc/dvd/AppStream</code></p><h3 id="注册表访问"><a href="#注册表访问" class="headerlink" title="注册表访问"></a>注册表访问</h3><p>该考试中的某些项目可能需要注册表中的容器镜像，注册表可以在以下位置找到</p><p><code>host.domain8.rhce.cc</code>要访问此注册表，您需要注册表用户bosai身份使用密码redhat登录。</p><p><strong>重要评测信息</strong> 您的系统会在重新引导后进行评测，因此务必确保您实施的的所有配置和服务在重新引导后 仍然保留。服务必须在没有人工干预的情况下启动。 同样，本次考试使用的所有虚拟实例都必须 能够重新引导至适当的多用户目标，而无需任 何人工辅助。在无法引导或无法进行无人干预引导的系统上完成的所有操作都将为零分。</p><hr><p>RHCSA8 的的实验环境共需要在两台虚拟机上完成：<br>node1.domain8.rhce.cc      172.25.250.10&#x2F;24<br>node2.domain8.rhce.cc      172.25.250.11&#x2F;24</p><p><strong>在 node1.domain8.rhce.cc 上完成如下实验：</strong></p><ul><li><p><input disabled="" type="checkbox"> 按要求配置网络 </p></li><li><p><input disabled="" type="checkbox"> 给系统配置默认的存储库</p></li><li><p><input disabled="" type="checkbox"> 配置 SELinux 创建用户 </p></li><li><p><input disabled="" type="checkbox"> 配置 crontab</p></li><li><p><input disabled="" type="checkbox"> 按要求创建目录 配置 NTP</p></li><li><p><input disabled="" type="checkbox"> 配置 autofs</p></li><li><p><input disabled="" type="checkbox"> 配置&#x2F;var&#x2F;tmp&#x2F;fstab 权限 </p></li><li><p><input disabled="" type="checkbox"> 配置用户账户</p></li><li><p><input disabled="" type="checkbox"> 查找文件 </p></li><li><p><input disabled="" type="checkbox"> 查找字符串 </p></li><li><p><input disabled="" type="checkbox"> 创建归档</p></li><li><p><input disabled="" type="checkbox"> 创建容器</p></li><li><p><input disabled="" type="checkbox"> 创建持久化存储容器</p></li><li><p><input disabled="" type="checkbox"> 配置应用</p></li><li><p><input disabled="" type="checkbox"> 配置提权</p></li></ul><p><strong>在 node2.domain8.rhce.cc 上完成如下实验：</strong></p><ul><li><p><input disabled="" type="checkbox"> 重置 root 密码 </p></li><li><p><input disabled="" type="checkbox"> 配置系统使用默认的存储库 </p></li><li><p><input disabled="" type="checkbox"> 调整逻辑卷的大小 </p></li><li><p><input disabled="" type="checkbox"> 创建交换分区</p></li><li><p><input disabled="" type="checkbox"> 创建逻辑卷</p></li><li><p><input disabled="" type="checkbox"> 创建 VDO 卷 </p></li><li><p><input disabled="" type="checkbox"> 配置系统调优</p></li></ul><h2 id="EX200"><a href="#EX200" class="headerlink" title="EX200"></a>EX200</h2><h3 id="在-node1-domain8-rhce-cc-上完成以下实验："><a href="#在-node1-domain8-rhce-cc-上完成以下实验：" class="headerlink" title="在 node1.domain8.rhce.cc 上完成以下实验："></a>在 node1.domain8.rhce.cc 上完成以下实验：</h3><h4 id="1-配置网络设置"><a href="#1-配置网络设置" class="headerlink" title="1. 配置网络设置"></a>1. 配置网络设置</h4><p>在 node1 上配置网络，要求如下：<br>主机名：node1.domain8.rhce.cc<br>IP地址: 172.25.250.10&#x2F;24        <em>##注意掩码</em><br>网关： 172.25.250.250<br>DNS： 172.25.250.250            <em>##名称服务器</em></p><h4 id="2-配置-yum-dnf-置您的系统以使用默认存储库"><a href="#2-配置-yum-dnf-置您的系统以使用默认存储库" class="headerlink" title="2. 配置 yum&#x2F;dnf 置您的系统以使用默认存储库"></a>2. 配置 yum&#x2F;dnf 置您的系统以使用默认存储库</h4><p>给系统配置默认存储库，要求如下：<br>YUM 的 两 个 存 储 库 的 地 址 分 别 是 ： </p><p><code>ftp://host.domain8.rhce.cc/dvd/BaseOS</code><br><code>ftp://host.domain8.rhce.cc/dvd/AppStream</code><br>可配置于同一文件，文件名无所谓，后缀必须是.repo</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">vim  /etc/yum.repos.d/aaaaaaa.repo</span><br><span class="line">[aaaa]</span><br><span class="line">name=aa</span><br><span class="line">baseurl=ftp://host.domain8.rhce.cc/dvd/BaseOS</span><br><span class="line">gpgcheck=0</span><br><span class="line">[bbbb]</span><br><span class="line">name=bb</span><br><span class="line">baseurl=ftp://host.domain8.rhce.cc/dvd/AppStream</span><br><span class="line">gpgcheck=0 </span><br></pre></td></tr></table></figure><h4 id="3-调试-SELinux"><a href="#3-调试-SELinux" class="headerlink" title="3. 调试 SELinux"></a>3. 调试 SELinux</h4><p>非标准端口 82 上运行的 WEB 服务器在提供内容时遇到问题。根据需要调试并解决问题， 并使其满足以下条件：<br>系统上的 web 服务器能够提供&#x2F;var&#x2F;www&#x2F;html 中所有现在有的 html 文件（注意：不 要删除或者其他方式改动现有的文件内容）<br>Web  服务器通过 82 端口访问<br>Web 服务器在系统启动时自动启动</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">firewall-cmd --permanent --add-port=82/tcp </span><br><span class="line">firewall-cmd   --reload</span><br><span class="line">ls  -ldZ   /var/www/html</span><br><span class="line">semanage port -a -t http_port_t -p tcp 82</span><br><span class="line">semanage  fcontext   -a  -t   httpd_sys_content_t     “/var/www/html(/.*)?”</span><br><span class="line">restorecon -Rv /var/www/html/                                                </span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">#########以上两行可替换为chcon -Rt httpd_sys_content_t  /var/www/html/</span></span></span><br><span class="line">systemctl enable httpd</span><br><span class="line">systemctl restart httpd</span><br></pre></td></tr></table></figure><h4 id="4-创建用户账户"><a href="#4-创建用户账户" class="headerlink" title="4. 创建用户账户"></a>4. 创建用户账户</h4><p>创建下列用户、用户祖，并按要求完成设置： 组名为 sysmgrs<br>natasha  用户的附属组是 sysmgrs<br>harry  用户的附属组是 sysmgrs<br>john  用户的 shell  是非交互式 shell，且不是 sysmgrs  组的成员<br>natasha、harry、john  的密码是 redhat</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">groupadd     sysmgrs</span><br><span class="line">useradd  -G sysmgrs   natasha</span><br><span class="line">useradd  -G sysmgrs   harry</span><br><span class="line">useradd  -s /sbin/nologin   john</span><br><span class="line">echo  &quot;redhat&quot; |   passwd  --stdin  natasha</span><br><span class="line">echo  &quot;redhat&quot; |   passwd  --stdin  harry</span><br><span class="line">echo  &quot;redhat&quot; |   passwd  --stdin  john</span><br></pre></td></tr></table></figure><h4 id="5-配置-crontab-作业"><a href="#5-配置-crontab-作业" class="headerlink" title="5. 配置 crontab 作业"></a>5. 配置 crontab 作业</h4><p>配置 cron 作业，该作业每隔 3  分钟运行并执行以下命令：<br>logger “EX200 in progress”，以用户 natasha 身份运行</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">crontab   -u  natasha  -e</span><br><span class="line">*/3 * * * * logger &quot;EX200 in progress&quot;</span><br></pre></td></tr></table></figure><h4 id="6-创建协作目录"><a href="#6-创建协作目录" class="headerlink" title="6. 创建协作目录"></a>6. 创建协作目录</h4><p>创建具有特殊权限的目录&#x2F;home&#x2F;managers，要求如下：<br>&#x2F;home&#x2F;managers  目录属于 sysmgrs 组<br>此目录可以被 sysmgrs 的组成员读取、写入和访问，但是其他任何用户不具备这些权限。<br>（不包括 root 用户）<br>在&#x2F;home&#x2F;managers  目录中创建的文件的所属组自动变成 sysmgrs 组。</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mkdir /home/managers</span><br><span class="line">chown :sysmgrs /home/managers</span><br><span class="line">chmod  2770 /home/managers</span><br></pre></td></tr></table></figure><h4 id="7-配置-NTP"><a href="#7-配置-NTP" class="headerlink" title="7. 配置 NTP"></a>7. 配置 NTP</h4><p>配置 node1作为NTP的客户端，跟时间服务器 host.domain8.rhce.cc 同步时间。</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">yum  install   chrony   -y</span><br><span class="line">systemctl enable   chronyd</span><br><span class="line">vim    /etc/chrony.conf</span><br><span class="line">server host.domain8.rhce.cc  iburst</span><br><span class="line">systemctl restart  chronyd</span><br></pre></td></tr></table></figure><h4 id="8-配置-autofs"><a href="#8-配置-autofs" class="headerlink" title="8. 配置 autofs"></a>8. 配置 autofs</h4><p>配置 autofs，按照以下要求自动挂载远程用户的家目录，要求如下：<br>host.domain8.rhce.cc ( 172.25.250.250 ) NFS 导出 &#x2F;rhome 到您的系统。此文件系统包含 为用户 remoteuser1 预配置的主目录<br>remoteuser1 的主目录是 host.domain8.rhce.cc:&#x2F;rhome&#x2F;remoteuser1</p><p>remoteuser1 的主目录应自动挂载到本地 &#x2F;rhome 下的 &#x2F;rhome&#x2F;remoteuser1 </p><p>主目录必须可供其用户写入<br>remoteuser1 的密码是 redhat</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">yum  install  autofs -y</span><br><span class="line">systemctl enable  autofs</span><br><span class="line">vim /etc/auto.master</span><br><span class="line">/rhome /etc/auto.misc  ##添加这个</span><br><span class="line">vim /etc/auto.misc</span><br><span class="line">remoteuser1   -rw   host.domain8.rhce.cc:/rhome/remoteuser1</span><br><span class="line">systemctl restart autofs</span><br><span class="line">echo &quot;redhat&quot; | passwd  --stdin remoteuser1</span><br></pre></td></tr></table></figure><h4 id="9-配置-var-tmp-fstab-权限"><a href="#9-配置-var-tmp-fstab-权限" class="headerlink" title="9. 配置&#x2F;var&#x2F;tmp&#x2F;fstab 权限"></a>9. 配置&#x2F;var&#x2F;tmp&#x2F;fstab 权限</h4><p>配置文件权限，将文件&#x2F;etc&#x2F;fstab 复制到&#x2F;var&#x2F;tmp&#x2F;fstab。配置&#x2F;var&#x2F;tmp&#x2F;fstab 的权限以满足 如下条件：<br>&#x2F;var&#x2F;tmp&#x2F;fstab  属于 root  用户和 root 组<br>&#x2F;var&#x2F;tmp&#x2F;fstab 不能被任何人执行<br>用户 natasha 有读写权限<br>用户 harry 没有读写权限 所有其他用户（当前或者未来）能够读取&#x2F;var&#x2F;tmp&#x2F;fstab</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cp /etc/fstab /var/tmp/fstab</span><br><span class="line">chmod a-x,o+r /var/tmp/fstab </span><br><span class="line">setfacl -m u:natasha:rw /var/tmp/fstab </span><br><span class="line">setfacl -m u:harry:- /var/tmp/fstab </span><br></pre></td></tr></table></figure><h4 id="10-配置用户账户"><a href="#10-配置用户账户" class="headerlink" title="10. 配置用户账户"></a>10. 配置用户账户</h4><p>配置用户 manalo ，其用户 ID  为 4777。此用户的密码应当为 redhat</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">useradd  -u   4777  manalo</span><br><span class="line">echo  &quot;redhat&quot; | passwd --stdin manalo</span><br></pre></td></tr></table></figure><h4 id="11-查找文件"><a href="#11-查找文件" class="headerlink" title="11. 查找文件"></a>11. 查找文件</h4><p>查找属于 jacques 用户所属的文件，并拷贝到&#x2F;root&#x2F;findfiles 目录</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mkdir /root/findfiles</span><br><span class="line">find / -type f -user jacques -exec cp &#123;&#125; /root/findfiles/ \;</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">####可用find / -type f -user jacques先查找，然后再做复制</span></span></span><br></pre></td></tr></table></figure><h4 id="12-查找字符串"><a href="#12-查找字符串" class="headerlink" title="12. 查找字符串"></a>12. 查找字符串</h4><p>查找文件&#x2F;usr&#x2F;share&#x2F;xml&#x2F;iso-codes&#x2F;iso_639_3.xml 中包含字符串 ng 的所有行。并将所有这 些行的内容放到文件&#x2F;root&#x2F;list  中，&#x2F;root&#x2F;list 不得包含空行。</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">grep &quot;ng&quot; /usr/share/xml/iso-codes/iso_639_3.xml &gt;/root/list</span><br></pre></td></tr></table></figure><h4 id="13-创建归档"><a href="#13-创建归档" class="headerlink" title="13. 创建归档"></a>13. 创建归档</h4><p>创建一个名为&#x2F;root&#x2F;backup.tar.gz  的 tar  包，用来压缩&#x2F;usr&#x2F;local 目录，使用gzip压缩。</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">tar  -czf /root/backup.tar.gz /usr/local</span><br></pre></td></tr></table></figure><h4 id="14-配置容器以使其自动启动"><a href="#14-配置容器以使其自动启动" class="headerlink" title="14. 配置容器以使其自动启动"></a>14. 配置容器以使其自动启动</h4><p>配置容器<br>    利用注册表服务器上的rsyslog-custom-cert镜像，创建一个名为 logserver 的容器。<br>    将其配置为以systemd服务的形式运行，且仅面向现有用户william。<br>    该服务应命名为 container-logserver ,并应在系统重新引导后自动启动，而无需任何手动干预。</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ssh  william@127.0.0.1</span><br><span class="line">podman  login  -u bosai host.domain8.rhce.cc</span><br><span class="line">podman  search  rsyslog-custom-cert</span><br><span class="line">podman  pull host.domain8.rhce.cc/rhel8/rsyslog-custom-cert</span><br><span class="line">podman   images</span><br><span class="line">podman create -d --name logserver rsyslog-custom-cert</span><br><span class="line">                         容器名称   镜像名称</span><br><span class="line">podman    ps   -a</span><br><span class="line">查看容器名称</span><br><span class="line">mkdir -p .config/systemd/user/</span><br><span class="line">创建服务目录</span><br><span class="line">cd .config/systemd/user/</span><br><span class="line">到服务目录中</span><br><span class="line">podman generate systemd --name logserver --files</span><br><span class="line">生成服务文件</span><br><span class="line">vim    container-logserver.service     ###############查看文件中最后一行的末尾是否有default.target</span><br><span class="line">如没有，需要添加到multiuser.target的后边，注意空格。形成如下结构</span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target default.target</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">systemctl --user daemon-reload</span><br><span class="line">重载服务</span><br><span class="line">systemctl --user enable --now container-logserver.service</span><br><span class="line">开机自启并设置</span><br><span class="line">loginctl    enable-linger   william</span><br><span class="line">exit  退出到root用户，回到root用户############此时还是在node1</span><br><span class="line">验证方式，等待十秒后输入ps  -u  william   ####前提时前边的--now选项已输入，</span><br><span class="line">如果未输入，重启虚拟机后再输入ps  -u  william查看是否存在服务rsyslogd</span><br></pre></td></tr></table></figure><h4 id="15-容器配置持久存储"><a href="#15-容器配置持久存储" class="headerlink" title="15. 容器配置持久存储"></a>15. 容器配置持久存储</h4><p>容器配置持久存储<br>将在上一项任务中创建的容器服务配置为使用持久存储，如下所示:<br>    在主机&#x2F;home&#x2F;william下创建名为container_journal的目录<br>    容器服务应将&#x2F;home&#x2F;william&#x2F;container_journal挂载到容器 &#x2F;var&#x2F;log&#x2F;journal上面<br>    启动容器服务时，应自动挂载持久存储<br>    在容器上运行命令logger   -p local5.info “This is an RHCSA exam”时，容器上的&#x2F;var&#x2F;log&#x2F;journal&#x2F;rhcsa.log 和主机上的&#x2F;home&#x2F;william&#x2F;container_journal&#x2F;rhcsa.log将显示内容”This is an RHCSA exam”</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ssh william@127.0.0.1</span><br><span class="line">systemctl --user stop container-logserver.service</span><br><span class="line">podman rm logserver若容器存在，则需删除</span><br><span class="line">mkdir   /home/william/container_journal</span><br><span class="line">podman create -d --name logserver -v /home/william/container_journal:/var/log/journal/:Z    rsyslog-custom-cert</span><br><span class="line">cd .config/systemd/user/</span><br><span class="line">到服务目录中</span><br><span class="line">rm   -rf   ./*   清除原有服务文件</span><br><span class="line">podman generate systemd --name logserver --files</span><br><span class="line">生成服务文件</span><br><span class="line">vim    container-logserver.service     ###############查看文件中最后一行的末尾是否有default.target</span><br><span class="line">如没有，需要添加到multiuser.target的后边，注意空格。形成如下结构</span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target default.target</span><br><span class="line"></span><br><span class="line">systemctl --user daemon-reload</span><br><span class="line">重载服务</span><br><span class="line">systemctl --user enable --now container-logserver.service</span><br><span class="line">开机自启并设置</span><br><span class="line">loginctl    enable-linger  william</span><br><span class="line">用户控制器保持william用户登录状态</span><br><span class="line">podman   exec   -it    logserver  bash</span><br><span class="line">进入容器，执行命令</span><br><span class="line">logger   -p local5.info &quot;This is an RHCSA exam&quot;</span><br><span class="line">ls  /var/log/journal    查看是否生成文件</span><br><span class="line">退出容器</span><br><span class="line">exit</span><br><span class="line">退到root</span><br><span class="line">exitexit退出，回到root用户############此时还是在node1</span><br><span class="line">验证方式，等待十秒后输入ps  -u  william   ####前提时前边的--now选项已输入，</span><br><span class="line">如果未输入，重启虚拟机后再输入ps  -u  william查看是否存在服务rsyslogd</span><br></pre></td></tr></table></figure><h4 id="16-配置应用"><a href="#16-配置应用" class="headerlink" title="16. 配置应用"></a>16. 配置应用</h4><p>配置servera上的应用ex200，要求如下：当以用户pandora运行ex200时，它将显示<br><code>borough lively excursion nephew scarce</code></p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">which  ex200                 先查位置</span><br><span class="line">echo &quot;echo  borough lively excursion nephew scarce&quot; &gt;  /usr/local/bin/ex200  </span><br><span class="line">chmod   a+x   /usr/local/bin/ex200</span><br></pre></td></tr></table></figure><h4 id="17-配置权限提升"><a href="#17-配置权限提升" class="headerlink" title="17. 配置权限提升"></a>17. 配置权限提升</h4><p>配置sysmgrs组可以使用系统内所有命令，且无需密码。</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">echo &quot;%sysmgrs ALL=(ALL) NOPASSWD: ALL&quot; &gt;&gt; /etc/sudoers</span><br></pre></td></tr></table></figure><h3 id="在-node2-domain8-rhce-cc-上完成以下实验："><a href="#在-node2-domain8-rhce-cc-上完成以下实验：" class="headerlink" title="在 node2.domain8.rhce.cc 上完成以下实验："></a>在 node2.domain8.rhce.cc 上完成以下实验：</h3><h4 id="1-重置-root-密码"><a href="#1-重置-root-密码" class="headerlink" title="1. 重置 root  密码"></a>1. 重置 root  密码</h4><p>将 node2主机的密码设置成 redhat。你需要获得系统访问权限才能进行此操作。 答案：</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">rd.break                  ##grub引导前按下e进入编辑，在倒数第二行末尾加入，ctrl+x提交</span><br><span class="line">mount -o remount,rw /sysroot            #####一定不能输错</span><br><span class="line">chroot /sysroot</span><br><span class="line">echo redhat | passwd --stdin root</span><br><span class="line"> touch /.autorelabel</span><br><span class="line">exit</span><br><span class="line">exit</span><br></pre></td></tr></table></figure><h4 id="2-配置-yum-源"><a href="#2-配置-yum-源" class="headerlink" title="2. 配置 yum 源"></a>2. 配置 yum 源</h4><p>给系统配置默认存储库，要求如下：<br>YUM 的 两 个 存 储 库 的 地 址 分 别 是 ：<br><code>http://host.domain8.rhce.cc/dvd/BaseOS</code><br><code>http://host.domian8.rhce.cc/dvd/AppStream</code><br>可配置于同一文件，文件名无所谓，后缀必须是.repo</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">vim  /etc/yum.repos.d/aaaaaaa.repo</span><br><span class="line">[aaaa]</span><br><span class="line">name=aa</span><br><span class="line">baseurl=http://host.domain8.rhce.cc/dvd/BaseOS</span><br><span class="line">gpgcheck=0</span><br><span class="line">[bbbb]</span><br><span class="line">name=bb</span><br><span class="line">baseurl=http://host.domian8.rhce.cc/dvd/AppStream</span><br><span class="line">gpgcheck=0</span><br></pre></td></tr></table></figure><h4 id="3-调整逻辑卷的大小"><a href="#3-调整逻辑卷的大小" class="headerlink" title="3. 调整逻辑卷的大小"></a>3. 调整逻辑卷的大小</h4><p>将名字为 vo 的逻辑卷的大小调整到 500MiB，确保文件系统的内容保持不变。 调整后的逻辑卷的大小范围在 480MiB  到 520MiB 的范围内都是可以接受的。</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">lvresize  -L  500M   -r  /dev/vg0/vo</span><br><span class="line">lsblk</span><br></pre></td></tr></table></figure><h4 id="4-创建交换分区"><a href="#4-创建交换分区" class="headerlink" title="4. 创建交换分区"></a>4. 创建交换分区</h4><p>向 serverb 添加一个额外的交换分区 756MiB。交换分区应在系统启动时自动挂载。不要删除或以任何方式改动系统上的任何现有交换分区。</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">fdisk    /dev/vdb</span><br><span class="line">n</span><br><span class="line">2</span><br><span class="line">回车</span><br><span class="line">+756M                        ####考试时看题</span><br><span class="line">W</span><br><span class="line">mkswap   /dev/vdb2</span><br><span class="line">vim   /ect/fstab</span><br><span class="line">/dev/vdb2   swap   swap   defaults   0  0</span><br><span class="line">swapon -a</span><br><span class="line">swapon -s</span><br></pre></td></tr></table></figure><h4 id="5-创建逻辑卷"><a href="#5-创建逻辑卷" class="headerlink" title="5. 创建逻辑卷"></a>5. 创建逻辑卷</h4><p>根据如下要求，创建新的逻辑卷：<br>逻辑卷的名字要 database, 卷组是 datastorage, 大小是 60 个 PE size datastorage  的 PE size  是 16MiB<br>格式化成 ext4 文件系统。并在系统启动时自动挂载到&#x2F;mnt&#x2F;data。</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">fdisk    /dev/vdb</span><br><span class="line">n</span><br><span class="line">3</span><br><span class="line">回车</span><br><span class="line">回车</span><br><span class="line">w</span><br><span class="line">pvcreate /dev/vdb3</span><br><span class="line">vgcreate -s 16M datastorage /dev/vdb3</span><br><span class="line">lvcreate -l 60 -n database  datastorage</span><br><span class="line">mkfs -t ext4 /dev/datastorage/database</span><br><span class="line">mkdir /mnt/data</span><br><span class="line">vim  /etc/fstab</span><br><span class="line">/dev/datastorage/database  /mnt/data ext4 defaults 0 0</span><br><span class="line">mount -a   </span><br><span class="line">df -hT   /mnt/data</span><br></pre></td></tr></table></figure><h4 id="6-创建-VDO-卷"><a href="#6-创建-VDO-卷" class="headerlink" title="6. 创建 VDO  卷"></a>6. 创建 VDO  卷</h4><p>根据如下要求，创建新的 VDO 卷: 使用未分区的磁盘 该卷的名称为 vdotest 该卷的逻辑大小是 50G 该卷使用 xfs 文件系统格式化<br>该卷在系统启动时挂载到&#x2F;mnt&#x2F;vdotest 下 </p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">yum install vdo kmod-kvdo -y</span><br><span class="line">vdo create --name=vdotest --device=/dev/vdc --vdoLogicalSize=50G</span><br><span class="line">mkfs.xfs -K /dev/mapper/vdotest</span><br><span class="line">mkdir /mnt/vdotest</span><br><span class="line">vim /etc/fstab</span><br><span class="line">/dev/mapper/vdotest /mnt/vdotest xfs _netdev 0 0</span><br><span class="line">mount -a   </span><br><span class="line">df -hT  /mnt/vdotest</span><br></pre></td></tr></table></figure><h4 id="7-配置系统调优"><a href="#7-配置系统调优" class="headerlink" title="7. 配置系统调优"></a>7. 配置系统调优</h4><p>为你的系统选择建议的<code>tuned</code>配置集并将它设置为默认设置 </p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">tuned-adm  recommend</span><br><span class="line">tuned-adm  profile virtual-guest </span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 分享 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> redhat </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>一番綺麗な私を</title>
      <link href="/posts/145424f1/"/>
      <url>/posts/145424f1/</url>
      
        <content type="html"><![CDATA[<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=320 height=86 src="//music.163.com/outchain/player?type=2&id=624037&auto=1&height=66"></iframe><p>作词 : 杉山胜彦<br>作曲 : 杉山胜彦<br>もしもあの春にあなたと出逢わなければ<br>如果那个春天未曾与你相逢<br>舞い散る花びらはただ白く見えていたでしょうか?<br>散落的花瓣仅仅是白色的吧</p><p>もしもあの夏を二人で過ごさなければ<br>如果那个夏天未曾与你一起度过</p><p>花火の輝きも残らずに消えていたでしょうか?<br>烟花的绚丽也将会消失殆尽吧</p><p>一番綺麗な私を抱いたのはあなたでしょう<br>拥抱最美丽的我的你<br>愛しい季節は流れて 運命と今は想うだけ<br>在这爱的季节流逝 仅仅是命运吗</p><p>もしもあの秋に私が戻れるのなら<br>如果那个秋天我未曾归来<br>隠し通したあの涙さえ見せてしまうでしょう<br>你也能看到我掩藏的泪水吧</p><p>もしもあの冬にあなたを信じていたら<br>如果那个冬天我未曾相信你<br>今も二人で寄り添いながら生きていたでしょうか?<br>如今的我们也不会相互依偎吧</p><p>一番綺麗な私を抱いたのはあなたでしょう<br>拥抱最美丽的我的你<br>消えない涙の記憶を 運命と人は呼ぶのでしょう<br>消失的泪水的记忆 就叫做命运吧</p><p>ああ あなたも私を想うのでしょうか?<br>啊 你是否也会想到我<br>二度と戻ることのない 駆けぬけた季節を<br>再也回不去的季节</p><p>一番綺麗な私を抱いたのはあなたでしょう<br>拥抱着最美丽的我的你<br>あの日心は震えてた だけど今溢れ出す<br>那一天的心在颤抖 但今天却是满溢的幸福<br>一番綺麗な私を抱いたのはあなたでしょう<br>拥抱着最美丽的我的你<br>時を超えるこの想いは 愛の他何があるでしょう<br>超越了此刻 除了爱还剩下什么</p><p>一番綺麗な私を… ああ<br>最美丽的我</p>]]></content>
      
      
      <categories>
          
          <category> 随笔 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> music </tag>
            
            <tag> 中岛美嘉 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello Strangers</title>
      <link href="/posts/2ecfbdd0/"/>
      <url>/posts/2ecfbdd0/</url>
      
        <content type="html"><![CDATA[<p>这是一个简单的博客，just for fun.<br><img src="2.jpg" style="zoom:50%;" /><br><img src="1.jpg" style="zoom:80%;" /></p><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=32507737&auto=1&height=66"></iframe>]]></content>
      
      
      <categories>
          
          <category> 随笔 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> music </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>rhce8</title>
      <link href="/posts/c1bbc95b/"/>
      <url>/posts/c1bbc95b/</url>
      
        <content type="html"><![CDATA[<p>环境下载咨询qq</p><h1 id="RHCE"><a href="#RHCE" class="headerlink" title="RHCE"></a>RHCE</h1><h2 id="重要配置信息"><a href="#重要配置信息" class="headerlink" title="重要配置信息"></a>重要配置信息</h2><p>在考试期间，除了您就坐位置的台式机之外，还将使用多个虚拟系统。您不具有台式机系统的</p><p>root 访问权，但具有对虚拟系统的完整root 访问权。</p><h2 id="系统信息"><a href="#系统信息" class="headerlink" title="系统信息"></a>系统信息</h2><p>在本考试期间，您将操作下列虚拟系统</p><table><thead><tr><th>系统</th><th>IP地址</th><th>Ansible角色</th></tr></thead><tbody><tr><td>control</td><td>172.24.12.11</td><td>ansible control node</td></tr><tr><td>node1</td><td>172.24.12.6</td><td>ansible managed node</td></tr><tr><td>node2</td><td>172.24.12.7</td><td>ansible managed node</td></tr><tr><td>node3</td><td>172.24.12.8</td><td>ansible managed node</td></tr><tr><td>node4</td><td>172.24.12.9</td><td>ansible managed node</td></tr><tr><td>node5</td><td>172.24.12.10</td><td>ansible managed node</td></tr></tbody></table><p>这些系统的 IP 地址采用静态设置。请勿更改这些设置。<br>主机名称解析已配置为解析上方列出的完全限定主机名，同时也解析主机短名称。</p><h2 id="帐户信息"><a href="#帐户信息" class="headerlink" title="帐户信息"></a>帐户信息</h2><p>所有系统的 root 密码是redhat。<br>请勿更改 root 密码。除非另有指定，否则这将是用于访问其他系统和服务的密码。此外，除非另有指定，否则此密码也应用于您创建的所有帐户，或者任何需要设置密码的服务。<br>为方便起见，所有系统上已预装了 SSH 密钥，允许在不输入密码的前提下通过 SSH 进行 root 访问。请勿对系统上的 root SSH 配置文件进行任何修改。<br>Ansible 控制节点上已创建了用户帐户<mark class="hl-label red">curtis</mark> 。此帐户预装了 SSH 密钥，允许在 Ansible 控制节点和各个 Ansible 受管节点之间进行 SSH 登录。请勿对系统上的 curtisSSH 配置文件进行任何修改。您可以从 root 帐户使用 su 访问此用户帐户。</p><h2 id="重要信息"><a href="#重要信息" class="headerlink" title="重要信息"></a>重要信息</h2><p>除非另有指定，否则您的所有工作（包括 Ansible playbook、配置文件和主机清单等）应当保存在控制节点上的目录 &#x2F;home&#x2F;curtis&#x2F;ansible 中，并且应当归 curtis用户所有。所有 Ansible 相关的命令应当由 curtis用户从 Ansible 控制节点上的这个目录运行。</p><h2 id="其他信息"><a href="#其他信息" class="headerlink" title="其他信息"></a>其他信息</h2><p>一些考试项目可能需要修改 Ansible 主机清单。您要负责确保所有以前的清单组和项目保留下来，与任何其他更改共存。您还要有确保清单中所有默认的组和主机保留您进行的任何更改。<br>考试系统上的防火墙默认为不启用，SELinux 则处于强制模式。<br>如果需要安装其他软件，您的物理系统和 Ansible 控制节点可能已设置为指向 content 上的下述存储库：<br><code>http://rhgls.area12.example.com/dvd/BaseOS http://rhgls.area12.example.com/dvd/AppStream</code><br>一些项目需要额外的文件，这些文件已在以下位置提供：<br><code>http://rhgls.area12.example.com/materials</code><br>产品文档可从以下位置找到：<br><code>http://rhgls.area12.example.com/materials/docs/ansible/html</code><br>其他资源也进行了配置，供您在考试期间使用。关于这些资源的具体信息将在需要这些资源的项目中提供。<br><strong>重要信息 请注意，在评分之前，您的 Ansible 受管节点系统将重置为考试开始时的初始状态，您编写的 Ansible playbook 将通过以 curtis用户身份从控制节点上的目录 &#x2F;home&#x2F;curtis&#x2F;ansible 目录运行来应用。在playbook 运行后，系统会对您的受管节点进行评估，以判断它们是否按照规定进行了配置。</strong></p><h2 id="RH294"><a href="#RH294" class="headerlink" title="RH294"></a>RH294</h2><h3 id="安装和配置Ansible"><a href="#安装和配置Ansible" class="headerlink" title="安装和配置Ansible"></a>安装和配置Ansible</h3><ol><li>按照下方所述，在控制节点 control上安装和配置Ansible：</li></ol><ul><li>安装所需的软件包</li><li>创建名为&#x2F;home&#x2F;curtis&#x2F;ansible&#x2F;inventory的静态清单文件，以满足以下要求：<ul><li>node1是dev 主机组的成员</li><li>node2是test 主机组的成员</li><li>node3 和 node4是prod 主机组的成员</li><li>node5是balancers 主机组的成员</li><li>prod 组是webservers 主机组的成员</li></ul></li><li>创建名为&#x2F;home&#x2F;curtis&#x2F;ansible&#x2F;ansible.cfg的配置文件，以满足以下要求：<ul><li>主机清单文件为&#x2F;home&#x2F;curtis&#x2F;ansible&#x2F;inventory</li><li>playbook 中使用的角色的位置包括&#x2F;home&#x2F;curtis&#x2F;ansible&#x2F;roles</li></ul></li></ul><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[curtis@control ansible]$ cat ansible.cfg</span><br><span class="line">[defaults]</span><br><span class="line">inventory=inventory</span><br><span class="line">roles_path=/home/curtis/ansible/roles</span><br><span class="line">remote_user=curtis</span><br><span class="line">ask_pass=False</span><br><span class="line">[privilege_escalation]</span><br><span class="line">become=True</span><br><span class="line">become_method=sudo</span><br><span class="line">become_user=root</span><br><span class="line">become_ask_pass=False</span><br><span class="line">[curtis@control ansible]$ cat inventory</span><br><span class="line">[dev]</span><br><span class="line">node1</span><br><span class="line">[test]</span><br><span class="line">node2</span><br><span class="line">[prod]</span><br><span class="line">node3</span><br><span class="line">node4</span><br><span class="line">[balancers]</span><br><span class="line">node5</span><br><span class="line">[webservers:children]</span><br><span class="line">prod</span><br><span class="line">检查方法：[curtis@control ansible]$ ansible-inventory  --list</span><br></pre></td></tr></table></figure><h3 id="创建和运行Ansible-临时命令"><a href="#创建和运行Ansible-临时命令" class="headerlink" title="创建和运行Ansible 临时命令"></a>创建和运行Ansible 临时命令</h3><ol start="2"><li>作为系统管理员，您需要在受管节点上安装软件。<br>请按照正文所述，创建一个名为&#x2F;home&#x2F;curtis&#x2F;ansible&#x2F;adhoc.sh 的shell 脚本，该脚本将使用Ansible 临时命令在各个受管节点上安装yum 存储库：</li></ol><ul><li>存储库1： <ul><li>存储库的名称为 EX294_BASE </li><li>描述为 EX294 base software</li><li>基础URL为<code>http://rhgls.area12.example.com/dvd/BaseOS</code></li><li>GPG 签名检查为启用状态 </li><li>GPG 密钥URL 为 <code>http://rhgls.area12.example.com/dvd/RPM-GPG-KEY-redhat-release</code> </li><li>存储库为启用状态</li></ul></li><li>存储库2：<ul><li>存储库的名称为 EX294_STREAM</li><li>描述为EX294 stream software</li><li>基础 URL为<code>http://rhgls.area12.example.com/dvd/AppStream</code></li><li>GPG 签名检查为启用状态</li><li>GPG 密钥 URL 为 <code>http://rhgls.area12.example.com/dvd/RPM-GPG-KEY-redhat-release</code></li><li>存储库为启用状态</li></ul></li></ul><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[curtis@control ansible]<span class="variable">$cat</span> ad.hoc</span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line">ansible all -m yum_repository -a <span class="string">&#x27;name=ex294_BASE description=&quot;EX294 base software&quot; baseurl=http://rhgls.area12.example.com/dvd/BaseOS gpgcheck=yes gpgkey=http://rhgls.area12.example.com/dvd/RPM-GPG-KEY-redhat-release enabled=yes&#x27;</span></span><br><span class="line">ansible all -m yum_repository -a <span class="string">&#x27;name=ex294_STREAM description=&quot;EX294 stream software&quot; baseurl=http://rhgls.area12.example.com/dvd/AppStream gpgcheck=yes gpgkey=http://rhgls.area12.example.com/dvd/RPM-GPG-KEY-redhat-release enabled=yes&#x27;</span> </span><br><span class="line">[curtis@control ansible]<span class="variable">$chmod</span> 755 ad.hoc </span><br><span class="line">检查：</span><br><span class="line">[curtis@control ansible]<span class="variable">$ansible</span> all-a <span class="string">&quot;yum repolist -v &quot;</span></span><br></pre></td></tr></table></figure><h3 id="安装软件包"><a href="#安装软件包" class="headerlink" title="安装软件包"></a>安装软件包</h3><ol start="3"><li>创建一个名为&#x2F;home&#x2F;curtis&#x2F;ansible&#x2F;packages.yml 的playbook :</li></ol><ul><li>将php 和mariadb 软件包安装到dev、test 和prod 主机组中的主机上</li><li>将RPM Development Tools软件包组安装到dev 主机组中的主机上</li><li>将dev 主机组中主机上的所有软件包更新为最新版本<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line">[<span class="string">curtis@control</span> <span class="string">ansible</span>]<span class="string">$</span> <span class="string">cat</span> <span class="string">packages.yml</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">hosts:</span> <span class="string">dev,test,prod</span></span><br><span class="line">  <span class="attr">tasks:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">yum:</span></span><br><span class="line">         <span class="attr">name:</span> <span class="string">php,mariadb</span></span><br><span class="line">         <span class="attr">state:</span> <span class="string">installed</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">hosts:</span> <span class="string">dev</span></span><br><span class="line">  <span class="attr">tasks:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">yum:</span></span><br><span class="line">         <span class="attr">name:</span> <span class="string">&quot;@RPM Development Tools&quot;</span>        </span><br><span class="line">         <span class="attr">state:</span> <span class="string">installed</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">hosts:</span> <span class="string">dev</span></span><br><span class="line">  <span class="attr">tasks:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">yum:</span></span><br><span class="line">         <span class="attr">name:</span> <span class="string">&quot;*&quot;</span></span><br><span class="line">         <span class="attr">state:</span> <span class="string">latest</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="使用RHEL-系统角色"><a href="#使用RHEL-系统角色" class="headerlink" title="使用RHEL 系统角色"></a>使用RHEL 系统角色</h3><ol start="4"><li>安装RHEL 系统角色软件包，并创建符合以下条件的playbook &#x2F;home&#x2F;curtis&#x2F;ansible&#x2F;selinux.yml ：</li></ol><ul><li>在所有受管节点上运行</li><li>使用 selinux 角色</li><li>配置该角色，以强制状态使用selinux<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">  [root@control ~]$ yum install rhel-system-roles -y</span><br><span class="line">  [curtis@control ansible]$cp /usr/share/ansible/roles/rhel-system-roles.selinux/ roles/selinux  -r </span><br><span class="line">  [curtis@control ansible]$cat selinux.yml</span><br><span class="line">```yml</span><br><span class="line">- hosts: all</span><br><span class="line">  vars:</span><br><span class="line">     - selinux_policy: targeted      ####main.yml里边定义的变量</span><br><span class="line">       selinux_state: enforcing      ###默认为强制状态,强制状态转宽容，无需重启，精简剧本，后边加roles就可以了，如果是改为关闭状态，则需要重启，此时会报错，加上后续剧本，可以实现重启生效。enforcing permissive disabled</span><br><span class="line">  tasks:</span><br><span class="line">    - block:</span><br><span class="line">      - include_role:                ###模块，用来调用角色</span><br><span class="line">          name: roles/selinux</span><br><span class="line">      rescue:</span><br><span class="line">      - fail:         ###查看角色main.yml，根据中间定义可得，当在执行时出现need reboot报错（Enforcing变permissive不会报错，直接成功，切换disabled会报错），那么会在事实中定义一个变量   selinux_reboot_required ，如果变量有定义，则实现重启功能即可。变量无定义，后续任务不需要进行。</span><br><span class="line">        when: not selinux_reboot_required</span><br><span class="line">      - reboot:</span><br><span class="line">      - include_role:</span><br><span class="line">               name: roles/selinux</span><br></pre></td></tr></table></figure></li></ul><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">检查</span><br><span class="line">[curtis@control ansible]$ ansible all -a &quot;getenforce&quot;</span><br><span class="line">node1 | CHANGED | rc=0 &gt;&gt;</span><br><span class="line">Enforcing</span><br></pre></td></tr></table></figure><h3 id="使用Ansible-Galaxy-安装角色"><a href="#使用Ansible-Galaxy-安装角色" class="headerlink" title="使用Ansible Galaxy 安装角色"></a>使用Ansible Galaxy 安装角色</h3><ol start="5"><li>使用 Ansible Galaxy 和要求文件&#x2F;home&#x2F;curtis&#x2F;ansible&#x2F;roles&#x2F;requirements.yml 。从以下URL 下载角色并安装到&#x2F;home&#x2F;curtis&#x2F;ansible&#x2F;roles ：</li></ol><ul><li><code>http://rhgls.area12.example.com/materials/haproxy.tar</code> 此角色的名称应当为balancer</li><li><code>http://rhgls.area12.example.com/materials/phpinfo.tar</code> 此角色的名称应当为phpinfo<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[curtis@control ansible]$cat roles/requirements.yml</span><br><span class="line">- src: http://rhgls.area12.example.com/materials/haproxy.tar</span><br><span class="line">  name: balancer</span><br><span class="line">- src: http://rhgls.area12.example.com/materials/phpinfo.tar</span><br><span class="line">  name: phpinfo</span><br><span class="line">[curtis@control ansible]$ ansible-galaxy install -r roles/requirements.yml -p roles/</span><br><span class="line">- downloading role from http://rhgls.area12.example.com/materials/haproxy.tar</span><br><span class="line">- extracting haproxy to /home/student/roles/balancer</span><br><span class="line">- balancer was installed successfully</span><br><span class="line">- downloading role from http://rhgls.area12.example.com/materials/phpinfo.tar</span><br><span class="line">- extracting phpinfo to /home/student/roles/phpinfo</span><br><span class="line">- phpinfo was installed successfully</span><br></pre></td></tr></table></figure></li></ul><h3 id="创建和使用角色"><a href="#创建和使用角色" class="headerlink" title="创建和使用角色"></a>创建和使用角色</h3><ol start="6"><li>根据下列要求，在&#x2F;home&#x2F;curtis&#x2F;ansible&#x2F;roles 中创建名为apache 的角色：</li></ol><ul><li>httpd 软件包已安装，设为在系统启动时启用并启动</li><li>防火墙已启用并正在运行，并使用允许访问 Web 服务器的规则</li><li>模板文件index.html.j2 已存在，用于创建具有以下输出的文件&#x2F;var&#x2F;www&#x2F;html&#x2F;index.html ：<br>  <code>Welcome to HOSTNAME on IPADDRESS</code><br>其中，HOSTNAME 是受管节点的完全限定域名，IPADDRESS 则是受管节点的IP 地址。<br>按照下方所述，创建一个使用此角色的playbook &#x2F;home&#x2F;curtis&#x2F;ansible&#x2F;newrole.yml:<br>该playbook在webservers主机组的主机上运行。<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[curtis@control ansible]$ ansible-galaxy init roles/apache</span><br><span class="line">[curtis@control ansible]$ cat roles/apache/templates/index.html.j2</span><br><span class="line">Welcome to &#123;&#123;ansible_fqdn&#125;&#125; on &#123;&#123;ansible_default_ipv4.address&#125;&#125;</span><br></pre></td></tr></table></figure><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line">[<span class="string">curtis@control</span> <span class="string">ansible</span>]<span class="string">$</span> <span class="string">cat</span> <span class="string">roles/apache/tasks/main.yml</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="comment">#tasks file for roles/apache</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">yum:</span></span><br><span class="line">       <span class="attr">name:</span> <span class="string">httpd</span></span><br><span class="line">       <span class="attr">state:</span> <span class="string">installed</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">yum:</span></span><br><span class="line">       <span class="attr">name:</span> <span class="string">firewalld</span></span><br><span class="line">       <span class="attr">state:</span> <span class="string">installed</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">service:</span>       </span><br><span class="line">       <span class="attr">name:</span> <span class="string">httpd</span></span><br><span class="line">       <span class="attr">state:</span> <span class="string">restarted</span></span><br><span class="line">       <span class="attr">enabled:</span> <span class="literal">yes</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">service:</span>       </span><br><span class="line">       <span class="attr">name:</span> <span class="string">firewalld</span></span><br><span class="line">       <span class="attr">state:</span> <span class="string">restarted</span></span><br><span class="line">       <span class="attr">enabled:</span> <span class="literal">yes</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">firewalld:</span>        </span><br><span class="line">        <span class="attr">service:</span> <span class="string">http</span></span><br><span class="line">        <span class="attr">permanent:</span> <span class="literal">yes</span></span><br><span class="line">        <span class="attr">immediate:</span> <span class="literal">yes</span></span><br><span class="line">        <span class="attr">state:</span> <span class="string">enabled</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">template:</span>         </span><br><span class="line">         <span class="attr">src:</span> <span class="string">index.html.j2</span></span><br><span class="line">         <span class="attr">dest:</span> <span class="string">/var/www/html/index.html</span></span><br><span class="line">         <span class="attr">setype:</span> <span class="string">httpd_sys_content_t</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[curtis@control ansible]$ cat newrole.yml</span><br><span class="line">- hosts: webservers  </span><br><span class="line">  roles: </span><br><span class="line">      - apache</span><br><span class="line">检查</span><br><span class="line">curl node1</span><br></pre></td></tr></table></figure></li></ul><h3 id="从-Ansible-Galaxy-使用角色"><a href="#从-Ansible-Galaxy-使用角色" class="headerlink" title="从 Ansible Galaxy 使用角色"></a>从 Ansible Galaxy 使用角色</h3><ol start="7"><li>根据下列要求，创建一个名为 &#x2F;home&#x2F;curtis&#x2F;ansible&#x2F;roles.yml 的 playbook ：</li></ol><ul><li>playbook 中包含一个 play， 该 play 在 balancers 主机组中的主机上运行并将使用 balancer 角色。</li><li>此角色配置一项服务，以在 webservers 主机组中的主机之间平衡 Web 服务器请求的负载。<ul><li>浏览到 balancers 主机组中的主机（例如 <code>http://node5.area12.example.com</code> ）将生成以下输出：<br>  Welcom to node3.area12.example.com on 172.24.12.8</li><li>重新加载浏览器将从另一 Web 服务器生成输出：<br>  Welcom to node4.area12.example.com on 172.24.12.9</li></ul></li><li>playbook 中包含一个 play， 该 play 在 webservers 主机组中的主机上运行并将使用 phpinfo 角色。<ul><li>请通过 URL&#x2F;hello.php 浏览到 webservers 主机组中的主机将生成以下输出：<br>  <strong>Hello PHP World from FQDN</strong><br>  其中，FQDN 是主机的完全限定名称。<br>  例如，浏览到<code>http://node3.area12.example.com/hello.php</code>将会生成以下输出：<br>  <strong>Hello PHP World from node3.area12.example.com</strong><br>  另外还有 PHP 配置的各种详细信息，如安装的 PHP 版本等。<br>  同样，浏览到<code>http://node4.area12.example.com/hello.php</code>会生成以下输出：<br>  <strong>Hello PHP World from node4.area12.example.com</strong><br>  另外还有 PHP 配置的各种详细信息，如安装的 PHP 版本等。<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line">[<span class="string">curtis@control</span> <span class="string">ansible</span>]<span class="string">$cat</span> <span class="string">roles.yml</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">hosts:</span> <span class="string">all</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">hosts:</span> <span class="string">balancers</span></span><br><span class="line">  <span class="attr">roles:</span></span><br><span class="line">   <span class="bullet">-</span> <span class="string">balancer</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">hosts:</span> <span class="string">webservers</span></span><br><span class="line">  <span class="attr">roles:</span></span><br><span class="line">   <span class="bullet">-</span> <span class="string">phpinfo</span></span><br><span class="line">  <span class="attr">tasks:</span> </span><br><span class="line">    <span class="bullet">-</span> <span class="attr">yum:</span></span><br><span class="line">       <span class="attr">name:</span> <span class="string">firewalld</span></span><br><span class="line">       <span class="attr">state:</span> <span class="string">installed</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">service:</span>       </span><br><span class="line">        <span class="attr">name:</span> <span class="string">firewalld</span></span><br><span class="line">        <span class="attr">state:</span> <span class="string">restarted</span></span><br><span class="line">        <span class="attr">enabled:</span> <span class="literal">yes</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">firewalld:</span>        </span><br><span class="line">        <span class="attr">service:</span> <span class="string">http</span></span><br><span class="line">        <span class="attr">permanent:</span> <span class="literal">yes</span></span><br><span class="line">        <span class="attr">immediate:</span> <span class="literal">yes</span></span><br><span class="line">        <span class="attr">state:</span> <span class="string">enabled</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">检查</span><br><span class="line">[curtis@control ansible]$curl node5</span><br><span class="line">Welcom to node3.area12.example.com on 172.24.12.8</span><br><span class="line">[curtis@control ansible]$curl node5</span><br><span class="line">Welcom to node4.area12.example.com on 172.24.12.9</span><br><span class="line">[curtis@control ansible]$curl node3/hello.php -s | head -1</span><br><span class="line">Hello PHP World from node3.area12.example.com&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;DTD/xhtml1-transitional.dtd&quot;&gt;</span><br></pre></td></tr></table></figure></li></ul></li></ul><h3 id="创建和使用分区"><a href="#创建和使用分区" class="headerlink" title="创建和使用分区"></a>创建和使用分区</h3><ol start="8"><li>编写一个剧本位置在&#x2F;home&#x2F;curtis&#x2F;ansible&#x2F;partition.yml,在所有主机上运行，需求如下：</li></ol><ul><li>该剧本包含一个play，该play在balancers主机组上运行<ul><li>在vdb中，创建单个主分区，编号是1，大小10G</li><li>格式化成ext4文件系统，挂载到&#x2F;newpart，</li><li>在设备vdd上创建单个主分区，编号是1，大小10G</li><li>格式化成ext4文件系统，挂载到&#x2F;newpart1，</li><li>如果无法创建请求的分区大小，则使用错误消息Could not create parton of that size，转而应用分区800M</li><li>如果设备vdd不存在，则输出错误提示disk vdd done not exist<br>  <del>####考试时的大小vdb硬盘是满足的，可以直接格式化挂载。答案的方法是先要对vdb进行判断，具体做法看考题环境。</del></li></ul><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line">[<span class="string">curtis@control</span> <span class="string">ansible</span>]<span class="string">$cat</span> <span class="string">partition.yml</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">hosts:</span> <span class="string">all</span></span><br><span class="line">  <span class="attr">tasks:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">block:</span></span><br><span class="line">         <span class="bullet">-</span> <span class="attr">parted:</span></span><br><span class="line">             <span class="attr">device:</span> <span class="string">/dev/vdb</span></span><br><span class="line">             <span class="attr">number:</span> <span class="number">1</span></span><br><span class="line">             <span class="attr">state:</span> <span class="string">present</span></span><br><span class="line">             <span class="attr">part_end:</span> <span class="string">10GiB</span></span><br><span class="line">      <span class="attr">rescue:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">debug:</span></span><br><span class="line">           <span class="attr">msg:</span> <span class="string">&quot;Could not create partion of that size&quot;</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">parted:</span></span><br><span class="line">             <span class="attr">device:</span> <span class="string">/dev/vdb</span></span><br><span class="line">             <span class="attr">number:</span> <span class="number">1</span></span><br><span class="line">             <span class="attr">state:</span> <span class="string">present</span></span><br><span class="line">             <span class="attr">part_end:</span> <span class="string">1GiB</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">filesystem:</span></span><br><span class="line">         <span class="attr">fstype:</span> <span class="string">ext4</span></span><br><span class="line">         <span class="attr">dev:</span> <span class="string">/dev/vdb1</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">file:</span> </span><br><span class="line">         <span class="attr">path:</span> <span class="string">/newpart</span></span><br><span class="line">         <span class="attr">state:</span> <span class="string">file</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">mount:</span></span><br><span class="line">         <span class="attr">path:</span> <span class="string">/newpart</span></span><br><span class="line">         <span class="attr">src:</span> <span class="string">/dev/vdb1</span></span><br><span class="line">         <span class="attr">fstype:</span> <span class="string">ext4</span></span><br><span class="line">         <span class="attr">state:</span> <span class="string">mounted</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">debug:</span></span><br><span class="line">        <span class="attr">msg:</span> <span class="string">&quot;disk vdd done not exist&quot;</span></span><br><span class="line">      <span class="attr">when:</span> <span class="string">ansible_devices.vdd</span> <span class="string">is</span> <span class="string">undefined</span></span><br><span class="line">      <span class="attr">failed_when:</span> <span class="string">ansible_devices.vdd</span> <span class="string">is</span> <span class="string">undefined</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">block:</span></span><br><span class="line">         <span class="bullet">-</span> <span class="attr">parted:</span></span><br><span class="line">             <span class="attr">device:</span> <span class="string">/dev/vdd</span></span><br><span class="line">             <span class="attr">number:</span> <span class="number">1</span></span><br><span class="line">             <span class="attr">state:</span> <span class="string">present</span></span><br><span class="line">             <span class="attr">part_end:</span> <span class="string">10GiB</span></span><br><span class="line">      <span class="attr">rescue:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">debug:</span></span><br><span class="line">           <span class="attr">msg:</span> <span class="string">&quot;Could not create partion of that size&quot;</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">parted:</span></span><br><span class="line">             <span class="attr">device:</span> <span class="string">/dev/vdd</span></span><br><span class="line">             <span class="attr">number:</span> <span class="number">1</span></span><br><span class="line">             <span class="attr">state:</span> <span class="string">present</span></span><br><span class="line">             <span class="attr">part_end:</span> <span class="string">1GiB</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">filesystem:</span></span><br><span class="line">         <span class="attr">fstype:</span> <span class="string">ext4</span></span><br><span class="line">         <span class="attr">dev:</span> <span class="string">/dev/vdd1</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">file:</span> </span><br><span class="line">         <span class="attr">path:</span> <span class="string">/newpart1</span></span><br><span class="line">         <span class="attr">state:</span> <span class="string">file</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">mount:</span></span><br><span class="line">         <span class="attr">path:</span> <span class="string">/newpart1</span></span><br><span class="line">         <span class="attr">src:</span> <span class="string">/dev/vdd1</span></span><br><span class="line">         <span class="attr">fstype:</span> <span class="string">ext4</span></span><br><span class="line">         <span class="attr">state:</span> <span class="string">mounted</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">检查</span><br><span class="line">[curtis@control ansible]$ansible balancers -a “lsblk”</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ul><h3 id="生成主机文件"><a href="#生成主机文件" class="headerlink" title="生成主机文件"></a>生成主机文件</h3><ol start="9"><li>将一个初始模板文件从 <code>http://rhgls.area12.example.com/materials/hosts.j2</code> 下载到 &#x2F;home&#x2F;curtis&#x2F;ansible<br>完成该模板，以便用它生成以下文件：</li></ol><ul><li>针对每个清单主机包含一行内容，其格式与 &#x2F;etc&#x2F;hosts 相同</li><li>创建名为 &#x2F;home&#x2F;curtis&#x2F;ansible&#x2F;hosts.yml 的 playbook ，它将使用此模板在 dev 主机组中的主机上生成文件 &#x2F;etc&#x2F;myhosts 。<br>该 playbook 运行后， dev 主机组中主机上的文件 &#x2F;etc&#x2F;myhosts 应针对每个受管主机包含一行内容：<br>127.0.0.1 localhost localhost.localdomain localhost4 localhost4.localdomain4<br>::1 localhost localhost.localdomain localhost6 localhost6.localdomain6<br>172.24.12.6 node1.area12.example.com node1<br>172.24.12.7 node2.area12.example.com node2<br>172.24.12.8 node3.area12.example.com node3<br>172.24.12.9 node4.area12.example.com node4<br>172.24.12.10 node5.area12.example.com node5<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[curtis@control ansible]$cat hosts.j2</span><br><span class="line">127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4</span><br><span class="line">::1         localhost localhost.localdomain localhost6 localhost6.localdomain6</span><br><span class="line">&#123;% for i in groups.all %&#125;</span><br><span class="line">&#123;&#123; hostvars[i].ansible_default_ipv4.address &#125;&#125; &#123;&#123; hostvars[i].ansible_fqdn &#125;&#125;  &#123;&#123; hostvars[i].ansible_hostname &#125;&#125;</span><br><span class="line">&#123;%endfor%&#125;</span><br></pre></td></tr></table></figure><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line">[<span class="string">curtis@control</span> <span class="string">ansible</span>]<span class="string">$cat</span> <span class="string">hosts.yml</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">hosts:</span> <span class="string">all</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">hosts:</span> <span class="string">dev</span></span><br><span class="line">  <span class="attr">tasks:</span></span><br><span class="line">   <span class="bullet">-</span> <span class="attr">template:</span></span><br><span class="line">      <span class="attr">src:</span> <span class="string">hosts.j2</span></span><br><span class="line">      <span class="attr">dest:</span> <span class="string">/etc/myhosts</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">检查</span><br><span class="line">[curtis@control ansible]$ansible all -a “cat /etc/myhosts”</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ul><h3 id="修改文件内容"><a href="#修改文件内容" class="headerlink" title="修改文件内容"></a>修改文件内容</h3><ol start="10"><li>按照下方所述，创建一个名为 &#x2F;home&#x2F;curtis&#x2F;ansible&#x2F;issue.yml 的 playbook ：</li></ol><ul><li>该 playbook 将在所有清单主机上运行</li><li>该 playbook 会将 &#x2F;etc&#x2F;issue 的内容替换为下方所示的一行文本：<ul><li>在 dev 主机组中的主机上，这行文本显示 为：Development</li><li>在 test 主机组中的主机上，这行文本显示 为：Test</li><li>在 prod 主机组中的主机上，这行文本显示 为：Production<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line">[<span class="string">curtis@control</span> <span class="string">ansible</span>]<span class="string">$cat</span> <span class="string">issure.yml</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">hosts:</span> <span class="string">all</span></span><br><span class="line">  <span class="attr">tasks:</span></span><br><span class="line">   <span class="bullet">-</span> <span class="attr">copy:</span></span><br><span class="line">       <span class="attr">content:</span> <span class="string">Development</span></span><br><span class="line">       <span class="attr">dest:</span> <span class="string">/etc/issue</span></span><br><span class="line">     <span class="attr">when:</span> <span class="string">&quot;&#x27;dev&#x27; in group_names&quot;</span></span><br><span class="line">   <span class="bullet">-</span> <span class="attr">copy:</span></span><br><span class="line">       <span class="attr">content:</span> <span class="string">Test</span></span><br><span class="line">       <span class="attr">dest:</span> <span class="string">/etc/issue</span></span><br><span class="line">     <span class="attr">when:</span> <span class="string">&quot;&#x27;test&#x27; in group_names&quot;</span></span><br><span class="line">   <span class="bullet">-</span> <span class="attr">copy:</span></span><br><span class="line">       <span class="attr">content:</span> <span class="string">Production</span></span><br><span class="line">       <span class="attr">dest:</span> <span class="string">/etc/issue</span></span><br><span class="line">     <span class="attr">when:</span> <span class="string">&quot;&#x27;prod&#x27; in group_names&quot;</span></span><br><span class="line"><span class="string">检查</span></span><br><span class="line">[<span class="string">curtis@control</span> <span class="string">ansible</span>]<span class="string">$ansible</span> <span class="string">all</span> <span class="string">-a</span> <span class="string">&quot;cat /etc/issue&quot;</span></span><br></pre></td></tr></table></figure></li></ul></li></ul><h3 id="创建-Web-内容目录"><a href="#创建-Web-内容目录" class="headerlink" title="创建 Web 内容目录"></a>创建 Web 内容目录</h3><ol start="11"><li>按照下方所述，创建一个名为 &#x2F;home&#x2F;curtis&#x2F;ansible&#x2F;webcontent.yml 的 playbook ：</li></ol><ul><li>该 playbook 在 dev 主机组中的受管节点上运行</li><li>创建符合下列要求的目录 &#x2F;webdev ：<ul><li>所有者为 webdev 组</li><li>具有常规权限：owner&#x3D;read+write+execute ， group&#x3D;read+write+execute ，other&#x3D;read+execute</li><li>具有特殊权限：设置组ID</li><li>用符号链接将 &#x2F;var&#x2F;www&#x2F;html&#x2F;webdev 链接到 &#x2F;webdev</li><li>创建文件 &#x2F;webdev&#x2F;index.html ，其中包含如下所示的单行文件： Development</li><li>在 dev 主机组中主机上浏览此目录（例如 <code>http://node1.area12.example.com/webdev/</code> ）将生成以下输出：<br>  Development<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line">[<span class="string">curtis@control</span> <span class="string">ansible</span>]<span class="string">$cat</span> <span class="string">webcontent.yml</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">hosts:</span> <span class="string">dev</span></span><br><span class="line">  <span class="attr">tasks:</span></span><br><span class="line">   <span class="bullet">-</span> <span class="attr">yum:</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">httpd</span></span><br><span class="line">      <span class="attr">state:</span> <span class="string">installed</span></span><br><span class="line">   <span class="bullet">-</span> <span class="attr">yum:</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">firewalld</span></span><br><span class="line">      <span class="attr">state:</span> <span class="string">installed</span></span><br><span class="line">   <span class="bullet">-</span> <span class="attr">service:</span></span><br><span class="line">       <span class="attr">name:</span> <span class="string">httpd</span></span><br><span class="line">       <span class="attr">state:</span> <span class="string">started</span></span><br><span class="line">       <span class="attr">enabled:</span> <span class="literal">yes</span></span><br><span class="line">   <span class="bullet">-</span> <span class="attr">service:</span></span><br><span class="line">       <span class="attr">name:</span> <span class="string">firewalld</span></span><br><span class="line">       <span class="attr">state:</span> <span class="string">started</span></span><br><span class="line">       <span class="attr">enabled:</span> <span class="literal">yes</span></span><br><span class="line">   <span class="bullet">-</span> <span class="attr">firewalld:</span></span><br><span class="line">       <span class="attr">service:</span> <span class="string">http</span></span><br><span class="line">       <span class="attr">permanent:</span> <span class="literal">yes</span></span><br><span class="line">       <span class="attr">state:</span> <span class="string">enabled</span></span><br><span class="line">       <span class="attr">immediate:</span> <span class="literal">yes</span></span><br><span class="line">   <span class="bullet">-</span> <span class="attr">group:</span></span><br><span class="line">       <span class="attr">name:</span> <span class="string">webdev</span></span><br><span class="line">       <span class="attr">state:</span> <span class="string">present</span></span><br><span class="line">   <span class="bullet">-</span> <span class="attr">file:</span></span><br><span class="line">       <span class="attr">path:</span> <span class="string">/webdev</span></span><br><span class="line">       <span class="attr">state:</span> <span class="string">directory</span></span><br><span class="line">       <span class="attr">mode:</span> <span class="string">&#x27;2775&#x27;</span></span><br><span class="line">       <span class="attr">group:</span> <span class="string">webdev</span></span><br><span class="line">   <span class="bullet">-</span> <span class="attr">file:</span></span><br><span class="line">        <span class="attr">src:</span> <span class="string">/webdev</span></span><br><span class="line">        <span class="attr">dest:</span> <span class="string">/var/www/html/webdev</span></span><br><span class="line">        <span class="attr">state:</span> <span class="string">link</span></span><br><span class="line">   <span class="bullet">-</span> <span class="attr">copy:</span></span><br><span class="line">        <span class="attr">dest:</span> <span class="string">/webdev/index.html</span></span><br><span class="line">        <span class="attr">content:</span> <span class="string">&#x27;Development&#x27;</span></span><br><span class="line">   <span class="bullet">-</span> <span class="attr">sefcontext:</span></span><br><span class="line">      <span class="attr">target:</span> <span class="string">&#x27;/webdev(/.*)?&#x27;</span></span><br><span class="line">      <span class="attr">setype:</span> <span class="string">httpd_sys_content_t</span></span><br><span class="line">      <span class="attr">state:</span> <span class="string">present</span></span><br><span class="line">   <span class="bullet">-</span> <span class="attr">command:</span> <span class="string">restorecon</span> <span class="string">-rv</span> <span class="string">/webdev</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">检查</span><br><span class="line">[curtis@control ansible]$curl node1/index.html</span><br></pre></td></tr></table></figure></li></ul></li></ul><h3 id="生成硬件报告"><a href="#生成硬件报告" class="headerlink" title="生成硬件报告"></a>生成硬件报告</h3><ol start="12"><li>创建一个名为 &#x2F;home&#x2F;curtis&#x2F;ansible&#x2F;hwreport.yml 的 playbook ，它将在所有受管节点上生成含有以下信息的输出文件 &#x2F;root&#x2F;hwreport.txt ：</li></ol><ul><li>清单主机名称</li><li>以 MB 表示的总内存大小</li><li>BIOS 版本</li><li>磁盘设备 vda 的大小</li><li>磁盘设备 vdb 的大小</li><li>输出文件中的每一行含有一个 key&#x3D;value 对。<br><strong>您的 playbook 应当：</strong></li><li>从 <code>http://rhgls.area12.example.com/materials/hwreport.empty</code> 下载文件，并将它保存为 &#x2F;root&#x2F;hwreport.txt</li><li>使用正确的值改为 &#x2F;root&#x2F;hwreport.txt</li><li>如果硬件项不存在，相关的值应设为 NONE<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line">[<span class="string">curtis@control</span> <span class="string">ansible</span>]<span class="string">$cat</span> <span class="string">hwreport.yml</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">hosts:</span> <span class="string">all</span> </span><br><span class="line">  <span class="attr">tasks:</span></span><br><span class="line">          <span class="bullet">-</span> <span class="attr">get_url:</span></span><br><span class="line">              <span class="attr">url:</span> <span class="string">http://rhgls.area12.example.com/materials/hwreport.empty</span></span><br><span class="line">              <span class="attr">dest:</span> <span class="string">/root/hwreport.txt</span></span><br><span class="line">          <span class="bullet">-</span> <span class="attr">replace:</span></span><br><span class="line">                  <span class="attr">path:</span> <span class="string">/root/hwreport.txt</span></span><br><span class="line">                  <span class="attr">regexp:</span> <span class="string">inventoryhostname</span></span><br><span class="line">                  <span class="attr">replace:</span> <span class="string">&quot;<span class="template-variable">&#123;&#123;ansible_hostname | default(none) &#125;&#125;</span>&quot;</span></span><br><span class="line">          <span class="bullet">-</span> <span class="attr">replace:</span></span><br><span class="line">                  <span class="attr">path:</span> <span class="string">/root/hwreport.txt</span></span><br><span class="line">                  <span class="attr">regexp:</span> <span class="string">BIOS_version</span></span><br><span class="line">                  <span class="attr">replace:</span> <span class="string">&quot;<span class="template-variable">&#123;&#123;ansible_bios_version | default(none) &#125;&#125;</span>&quot;</span></span><br><span class="line">          <span class="bullet">-</span> <span class="attr">replace:</span></span><br><span class="line">                  <span class="attr">path:</span> <span class="string">/root/hwreport.txt</span></span><br><span class="line">                  <span class="attr">regexp:</span> <span class="string">disk_vda_size</span></span><br><span class="line">                  <span class="attr">replace:</span> <span class="string">&quot;<span class="template-variable">&#123;&#123;ansible_devices.vda.size | default(none) &#125;&#125;</span>&quot;</span></span><br><span class="line">          <span class="bullet">-</span> <span class="attr">replace:</span></span><br><span class="line">                  <span class="attr">path:</span> <span class="string">/root/hwreport.txt</span></span><br><span class="line">                  <span class="attr">regexp:</span> <span class="string">disk_vdb_size</span></span><br><span class="line">                  <span class="attr">replace:</span> <span class="string">&quot;<span class="template-variable">&#123;&#123;ansible_devices.vdb.size | default(none) &#125;&#125;</span>&quot;</span></span><br><span class="line">          <span class="bullet">-</span> <span class="attr">replace:</span></span><br><span class="line">                  <span class="attr">path:</span> <span class="string">/root/hwreport.txt</span></span><br><span class="line">                  <span class="attr">regexp:</span> <span class="string">memory_in_MB</span></span><br><span class="line">                  <span class="attr">replace:</span> <span class="string">&quot;<span class="template-variable">&#123;&#123;&#123;ansible_memtotal_mb | default(none)&#125;&#125;</span>&quot;</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">检查</span><br><span class="line">[curtis@control ansible]$ansible node1 -a &quot;cat /root/hwreport.txt&quot;</span><br></pre></td></tr></table></figure></li></ul><h3 id="创建密码库"><a href="#创建密码库" class="headerlink" title="创建密码库"></a>创建密码库</h3><ol start="13"><li>按照下方所述，创建一个 Ansible 库来存储用户密码：</li></ol><ul><li>库名称为 &#x2F;home&#x2F;curtis&#x2F;ansible&#x2F;locker.yml</li><li>库中含有两个变量，名称如下：<ul><li>pw_developer，值为 Imadev</li><li>pw_manager，值为 Imamgr</li></ul></li><li>用于加密和解密该库的密码为 whenyouwishuponastar</li><li>密码存储在文件 &#x2F;home&#x2F;curtis&#x2F;ansible&#x2F;secret.txt 中<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[curtis@control ansible]$cat secret.txt</span><br><span class="line">whenyouwishuponastar </span><br><span class="line">[curtis@control ansible]$ansible-vault view --vault-password-file=secret.txt locker.yml</span><br><span class="line">pw_developer: Imadev</span><br><span class="line">pw_manager: Imamgr</span><br></pre></td></tr></table></figure></li></ul><h3 id="创建用户帐户"><a href="#创建用户帐户" class="headerlink" title="创建用户帐户"></a>创建用户帐户</h3><ol start="14"><li>从<code>http://rhgls.area12.example.com/materials/user_list.yml</code>下载要创建的用户的列表，并将它保存到 &#x2F;home&#x2F;curtis&#x2F;ansible</li></ol><ul><li>在本次考试中使用在其他位置创建的密码库 &#x2F;home&#x2F;curtis&#x2F;ansible&#x2F;locker.yml 。</li><li>创建名为 &#x2F;home&#x2F;curtis&#x2F;ansible&#x2F;users.yml 的 playbook ，从而按以下所述创建用户帐户：<ul><li>职位描述为 developer 的用户应当：<ul><li>在 dev 和 test 主机组中的受管节点上创建</li><li>从 pw_developer 变量分配密码</li><li>分配对应用户id</li><li>是补充组 devops 的成员</li></ul></li><li>职位描述为 manager 的用户应当：<ul><li>在 prod 主机组中的受管节点上创建</li><li>从 pw_manager 变量分配密码</li><li>分配对应用户id</li><li>是补充组 opsmgr 的成员</li></ul></li><li>密码采用 SHA512 哈希格式。</li><li>您的 playbook 应能够在本次考试中使用在其他位置创建的库密码文件 &#x2F;home&#x2F;curtis&#x2F;ansible&#x2F;secret.txt 正常运行。<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line">[<span class="string">curtis@control</span> <span class="string">ansible</span>]<span class="string">$cat</span> <span class="string">users.yml</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">hosts:</span> <span class="string">all</span></span><br><span class="line">  <span class="attr">vars_files:</span></span><br><span class="line">          <span class="bullet">-</span> <span class="string">locker.yml</span></span><br><span class="line">          <span class="bullet">-</span> <span class="string">user_list.yml</span></span><br><span class="line">  <span class="attr">tasks:</span></span><br><span class="line">   <span class="bullet">-</span> <span class="attr">group:</span></span><br><span class="line">       <span class="attr">name:</span> <span class="string">devops</span></span><br><span class="line">       <span class="attr">state:</span> <span class="string">present</span></span><br><span class="line">   <span class="bullet">-</span> <span class="attr">group:</span></span><br><span class="line">       <span class="attr">name:</span> <span class="string">opsmgr</span></span><br><span class="line">       <span class="attr">state:</span> <span class="string">present</span></span><br><span class="line">   <span class="bullet">-</span> <span class="attr">user:</span></span><br><span class="line">       <span class="attr">name:</span> <span class="string">&quot;<span class="template-variable">&#123;&#123; item.name &#125;&#125;</span>&quot;</span></span><br><span class="line">       <span class="attr">state:</span> <span class="string">present</span></span><br><span class="line">       <span class="attr">password:</span> <span class="string">&quot;<span class="template-variable">&#123;&#123; pw_developer |password_hash(&#x27;sha512&#x27;)&#125;&#125;</span>&quot;</span></span><br><span class="line">       <span class="attr">uid:</span> <span class="string">&quot;<span class="template-variable">&#123;&#123;item.uid&#125;&#125;</span>&quot;</span></span><br><span class="line">       <span class="attr">groups:</span> <span class="string">test</span></span><br><span class="line">     <span class="attr">when:</span> <span class="string">(&#x27;dev&#x27;</span> <span class="string">in</span> <span class="string">group_names</span> <span class="string">or</span> <span class="string">&#x27;test&#x27;</span> <span class="string">in</span> <span class="string">group_names)</span> <span class="string">and</span> <span class="string">(item.job</span> <span class="string">==</span> <span class="string">&quot;developer&quot;</span><span class="string">)</span></span><br><span class="line">     <span class="attr">loop:</span> <span class="string">&quot;<span class="template-variable">&#123;&#123; users &#125;&#125;</span>&quot;</span></span><br><span class="line">   <span class="bullet">-</span> <span class="attr">user:</span></span><br><span class="line">       <span class="attr">name:</span> <span class="string">&quot;<span class="template-variable">&#123;&#123; item.name &#125;&#125;</span>&quot;</span></span><br><span class="line">       <span class="attr">state:</span> <span class="string">present</span></span><br><span class="line">       <span class="attr">uid:</span> <span class="string">&quot;<span class="template-variable">&#123;&#123;item.uid&#125;&#125;</span>&quot;</span></span><br><span class="line">       <span class="attr">password:</span> <span class="string">&quot;<span class="template-variable">&#123;&#123; pw_manager |password_hash(&#x27;sha512&#x27;)&#125;&#125;</span>&quot;</span></span><br><span class="line">       <span class="attr">groups:</span> <span class="string">ops</span></span><br><span class="line">     <span class="attr">when:</span> <span class="string">(&#x27;prod&#x27;</span> <span class="string">in</span> <span class="string">group_names</span> <span class="string">)</span> <span class="string">and</span> <span class="string">(item.job</span> <span class="string">==</span> <span class="string">&quot;manager&quot;</span><span class="string">)</span></span><br><span class="line">     <span class="attr">loop:</span> <span class="string">&quot;<span class="template-variable">&#123;&#123; users &#125;&#125;</span>&quot;</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">执行：</span><br><span class="line">[curtis@control ansible]$ansible-playbook users.yml --vault-password-file=secret.txt</span><br><span class="line">验证:</span><br><span class="line">[curtis@control ansible]$ansible all -a &quot;tail -2 /etc/passwd&quot;</span><br></pre></td></tr></table></figure></li></ul></li></ul><h3 id="更新-Ansible-库的密钥"><a href="#更新-Ansible-库的密钥" class="headerlink" title="更新 Ansible 库的密钥"></a>更新 Ansible 库的密钥</h3><ol start="15"><li>按照下方所述，更新现有 Ansible 库的密钥：</li></ol><ul><li>从<code>http://rhgls.area12.example.com/materials/salaries.yml</code>下载 Ansible 库到 &#x2F;home&#x2F;curtis&#x2F;ansible<ul><li>当前的库密码为 insecure8sure</li><li>新的库密码为 bbs2you9527</li><li>库使用新密码保持加密状态<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[curtis@control ansible]$ansible-vault rekey salaries.yml</span><br><span class="line">Vault password:</span><br><span class="line">New Vault password:</span><br><span class="line">Confirm New Vault password:</span><br><span class="line">Rekey successful</span><br></pre></td></tr></table></figure></li></ul></li></ul><h3 id="配置cron作业"><a href="#配置cron作业" class="headerlink" title="配置cron作业"></a>配置cron作业</h3><ol start="16"><li>创建名为&#x2F;home&#x2F;curtis&#x2F;ansible&#x2F;cron.yml的playbook，在所有托管主机上运行为用户curtis创建如下cron作业：</li></ol><ul><li>用户curtis必须配置运行每隔2分钟执行logger “EX294 in progress”的cron作业<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line">[<span class="string">curtis@control</span> <span class="string">ansible</span>]<span class="string">$cat</span> <span class="string">cron.yml</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">hosts:</span> <span class="string">all</span></span><br><span class="line">  <span class="attr">tasks:</span></span><br><span class="line">     <span class="bullet">-</span> <span class="attr">cron:</span> </span><br><span class="line">         <span class="attr">user:</span> <span class="string">curtis</span></span><br><span class="line">         <span class="attr">minute:</span> <span class="string">&quot;*/2&quot;</span></span><br><span class="line">         <span class="attr">job:</span> <span class="string">logger</span> <span class="string">&quot;EX294 in progress&quot;</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">验证：</span><br><span class="line">[curtis@control ansible]$ansible all  -a &quot;crontab -l -u curtis&quot;</span><br></pre></td></tr></table></figure></li></ul>]]></content>
      
      
      <categories>
          
          <category> 分享 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> redhat </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>聊聊</title>
      <link href="/posts/cdb3b51d/"/>
      <url>/posts/cdb3b51d/</url>
      
        <content type="html"><![CDATA[<p>在使用hexo时为了方便图片在typora中载入预览，并且导出的网页也不会丢失图片路径</p><p>需要在post_asset_folder: true中修改参数值</p><p>此时，创建新文章则会在源路径中创建一各同名的文件夹，则可以在typora正常显示。</p><img src="test.jpg" style="zoom:25%;" />]]></content>
      
      
      <categories>
          
          <category> 随笔 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>路过人间</title>
      <link href="/posts/2974dd19/"/>
      <url>/posts/2974dd19/</url>
      
        <content type="html"><![CDATA[<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=1888915574&auto=1&height=66"></iframe><p>作词 : 施人诚<br>作曲 : 张简君伟<br>编曲 : 许钧<br>制作人 : 荒井十一<br>和声编写 : 鱼椒盐<br>音乐总监 : 荒井十一<br>音乐统筹 : 许夙@ELEVENZMUSIC<br>制作协力 : 王矜霖@ELEVENZMUSIC<br>乐队总监 : Lawrence Ku顾忠山＠11zband<br>鼓 : 荒井十一＠11zband<br>贝斯 : Damien Banzigou ＠11zband<br>吉他 : Lawrence Ku顾忠山&#x2F;胡晨HUX ＠11zband<br>键盘 : 弋洋&#x2F;刘晓光 ＠11zband<br>小提琴 : 刘星 ＠11zband<br>和声 : 毕赫宬&#x2F;鱼椒盐&#x2F;张嫚宸&#x2F;周伊萌 ＠11zband<br>PGM : Sanbist Lin克昶 ＠11zband<br>混音 : 周天澈混音团队<br>嘿 意不意外<br>她背影 那么轻快<br>嘿 要明白<br>人会来就会离开<br>世上唯一不变 是人都善变<br>路过人间 爱都有 期限<br>天可怜见 心碎在所难免<br>以为痛过几回 多了些修炼<br>路过人间 就懂得防卫<br>说来惭愧 人只要有机会<br>就又沦陷<br>嘿 别再猜<br>她可曾 想过回来<br>嘿 醒过来<br>你很好 她也不坏<br>快快抹干眼泪 看昙花多美<br>路过人间 无非一瞬间<br>每段并肩 都不过是擦肩<br>曾经辜负哪位 这才被亏欠<br>路过人间 一直这轮回<br>幸运一点 也许最后和谁<br>都不相欠<br>都不相欠<br>都不相欠<br>人对爱和永远 应该有幻觉<br>路过人间 也才几十年<br>却为了爱 勇于蹉跎岁月<br>相遇离别 贪嗔爱痴怨<br>路过人间 就忙着这些<br>谁有意见 莫非是心里面<br>渺无人烟<br>无人可恋<br>来这人间<br>有多浪费</p><p><img src="https://img0.baidu.com/it/u=1271210768,1344805733&fm=253&fmt=auto&app=120&f=JPEG?w=1024&h=678" alt="禽鸽"></p>]]></content>
      
      
      <categories>
          
          <category> 随笔 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> music </tag>
            
            <tag> 禽鸽 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
